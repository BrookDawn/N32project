ARM GAS  C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu softvfp
   4              		.eabi_attribute 23, 1
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 1
   9              		.eabi_attribute 34, 1
  10              		.eabi_attribute 18, 4
  11              		.file	"usart.c"
  12              		.text
  13              	.Ltext0:
  14              		.cfi_sections	.debug_frame
  15              		.file 1 "core/src/usart.c"
  16              		.section	.text.USART1_Init,"ax",%progbits
  17              		.align	1
  18              		.global	USART1_Init
  19              		.syntax unified
  20              		.thumb
  21              		.thumb_func
  23              	USART1_Init:
  24              	.LVL0:
  25              	.LFB126:
   1:core/src/usart.c **** /**
   2:core/src/usart.c ****  * @file usart1.c
   3:core/src/usart.c ****  * @brief USART1 Serial Communication Implementation
   4:core/src/usart.c ****  * @version v1.0.0
   5:core/src/usart.c ****  * @author N32G430 Project
   6:core/src/usart.c ****  */
   7:core/src/usart.c **** 
   8:core/src/usart.c **** #include "usart.h"
   9:core/src/usart.c **** #include "timer.h"
  10:core/src/usart.c **** #include <string.h>
  11:core/src/usart.c **** 
  12:core/src/usart.c **** /* Private Variables */
  13:core/src/usart.c **** static uint8_t usart1_initialized = 0;
  14:core/src/usart.c **** static char tx_buffer[USART1_TX_BUFFER_SIZE];
  15:core/src/usart.c **** static char rx_buffer[USART1_RX_BUFFER_SIZE];
  16:core/src/usart.c **** static volatile uint16_t rx_write_index = 0;
  17:core/src/usart.c **** static volatile uint16_t rx_read_index = 0;
  18:core/src/usart.c **** static volatile uint16_t rx_count = 0;
  19:core/src/usart.c **** 
  20:core/src/usart.c **** /**
  21:core/src/usart.c ****  * @brief Initialize USART1 with specified baudrate
  22:core/src/usart.c ****  * @param baudrate: Serial communication baudrate
  23:core/src/usart.c ****  * @retval None
  24:core/src/usart.c ****  */
  25:core/src/usart.c **** void USART1_Init(uint32_t baudrate)
  26:core/src/usart.c **** {
  26              		.loc 1 26 1 view -0
  27              		.cfi_startproc
  28              		@ args = 0, pretend = 0, frame = 48
  29              		@ frame_needed = 0, uses_anonymous_args = 0
  30              		.loc 1 26 1 is_stmt 0 view .LVU1
  31 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
  32              	.LCFI0:
ARM GAS  C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s 			page 2


  33              		.cfi_def_cfa_offset 28
  34              		.cfi_offset 4, -28
  35              		.cfi_offset 5, -24
  36              		.cfi_offset 6, -20
  37              		.cfi_offset 7, -16
  38              		.cfi_offset 8, -12
  39              		.cfi_offset 9, -8
  40              		.cfi_offset 14, -4
  41 0004 8DB0     		sub	sp, sp, #52
  42              	.LCFI1:
  43              		.cfi_def_cfa_offset 80
  44 0006 0646     		mov	r6, r0
  27:core/src/usart.c ****     GPIO_InitType GPIO_InitStructure;
  45              		.loc 1 27 5 is_stmt 1 view .LVU2
  28:core/src/usart.c ****     USART_InitType USART_InitStructure;
  46              		.loc 1 28 5 view .LVU3
  29:core/src/usart.c ****     NVIC_InitType NVIC_InitStructure;
  47              		.loc 1 29 5 view .LVU4
  30:core/src/usart.c **** 
  31:core/src/usart.c ****     /* Enable clocks */
  32:core/src/usart.c ****     RCC_AHB_Peripheral_Clock_Enable(RCC_AHB_PERIPH_GPIOA);
  48              		.loc 1 32 5 view .LVU5
  49 0008 8020     		movs	r0, #128
  50              	.LVL1:
  51              		.loc 1 32 5 is_stmt 0 view .LVU6
  52 000a FFF7FEFF 		bl	RCC_AHB_Peripheral_Clock_Enable
  53              	.LVL2:
  33:core/src/usart.c ****     RCC_APB2_Peripheral_Clock_Enable(RCC_APB2_PERIPH_USART1);
  54              		.loc 1 33 5 is_stmt 1 view .LVU7
  55 000e 4FF48040 		mov	r0, #16384
  56 0012 FFF7FEFF 		bl	RCC_APB2_Peripheral_Clock_Enable
  57              	.LVL3:
  34:core/src/usart.c **** 
  35:core/src/usart.c ****     /* Configure USART1 TX (PA9) */
  36:core/src/usart.c ****     GPIO_InitStructure.Pin = USART1_TX_GPIO_PIN;
  58              		.loc 1 36 5 view .LVU8
  59              		.loc 1 36 28 is_stmt 0 view .LVU9
  60 0016 4FF40073 		mov	r3, #512
  61 001a 0693     		str	r3, [sp, #24]
  37:core/src/usart.c ****     GPIO_InitStructure.GPIO_Mode = GPIO_MODE_AF_PP;
  62              		.loc 1 37 5 is_stmt 1 view .LVU10
  63              		.loc 1 37 34 is_stmt 0 view .LVU11
  64 001c 0227     		movs	r7, #2
  65 001e 0797     		str	r7, [sp, #28]
  38:core/src/usart.c ****     GPIO_InitStructure.GPIO_Pull = GPIO_PULL_UP;
  66              		.loc 1 38 5 is_stmt 1 view .LVU12
  67              		.loc 1 38 34 is_stmt 0 view .LVU13
  68 0020 0125     		movs	r5, #1
  69 0022 0895     		str	r5, [sp, #32]
  39:core/src/usart.c ****     GPIO_InitStructure.GPIO_Slew_Rate = GPIO_SLEW_RATE_FAST;
  70              		.loc 1 39 5 is_stmt 1 view .LVU14
  71              		.loc 1 39 39 is_stmt 0 view .LVU15
  72 0024 0024     		movs	r4, #0
  73 0026 0994     		str	r4, [sp, #36]
  40:core/src/usart.c ****     GPIO_InitStructure.GPIO_Current = GPIO_DS_4MA;
  74              		.loc 1 40 5 is_stmt 1 view .LVU16
  75              		.loc 1 40 37 is_stmt 0 view .LVU17
ARM GAS  C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s 			page 3


  76 0028 0A97     		str	r7, [sp, #40]
  41:core/src/usart.c ****     GPIO_InitStructure.GPIO_Alternate = USART1_TX_GPIO_AF;
  77              		.loc 1 41 5 is_stmt 1 view .LVU18
  78              		.loc 1 41 39 is_stmt 0 view .LVU19
  79 002a 0B95     		str	r5, [sp, #44]
  42:core/src/usart.c ****     GPIO_Peripheral_Initialize(USART1_TX_GPIO_PORT, &GPIO_InitStructure);
  80              		.loc 1 42 5 is_stmt 1 view .LVU20
  81 002c 0DF11809 		add	r9, sp, #24
  82 0030 DFF88880 		ldr	r8, .L3
  83 0034 4946     		mov	r1, r9
  84 0036 4046     		mov	r0, r8
  85 0038 FFF7FEFF 		bl	GPIO_Peripheral_Initialize
  86              	.LVL4:
  43:core/src/usart.c **** 
  44:core/src/usart.c ****     /* Configure USART1 RX (PA10) */
  45:core/src/usart.c ****     GPIO_InitStructure.Pin = USART1_RX_GPIO_PIN;
  87              		.loc 1 45 5 view .LVU21
  88              		.loc 1 45 28 is_stmt 0 view .LVU22
  89 003c 4FF48063 		mov	r3, #1024
  90 0040 0693     		str	r3, [sp, #24]
  46:core/src/usart.c ****     GPIO_InitStructure.GPIO_Mode = GPIO_MODE_AF_PP;
  91              		.loc 1 46 5 is_stmt 1 view .LVU23
  92              		.loc 1 46 34 is_stmt 0 view .LVU24
  93 0042 0797     		str	r7, [sp, #28]
  47:core/src/usart.c ****     GPIO_InitStructure.GPIO_Pull = GPIO_PULL_UP;
  94              		.loc 1 47 5 is_stmt 1 view .LVU25
  95              		.loc 1 47 34 is_stmt 0 view .LVU26
  96 0044 0895     		str	r5, [sp, #32]
  48:core/src/usart.c ****     GPIO_InitStructure.GPIO_Alternate = USART1_RX_GPIO_AF;
  97              		.loc 1 48 5 is_stmt 1 view .LVU27
  98              		.loc 1 48 39 is_stmt 0 view .LVU28
  99 0046 0B95     		str	r5, [sp, #44]
  49:core/src/usart.c ****     GPIO_Peripheral_Initialize(USART1_RX_GPIO_PORT, &GPIO_InitStructure);
 100              		.loc 1 49 5 is_stmt 1 view .LVU29
 101 0048 4946     		mov	r1, r9
 102 004a 4046     		mov	r0, r8
 103 004c FFF7FEFF 		bl	GPIO_Peripheral_Initialize
 104              	.LVL5:
  50:core/src/usart.c **** 
  51:core/src/usart.c ****     /* Configure USART1 */
  52:core/src/usart.c ****     USART_InitStructure.BaudRate = baudrate;
 105              		.loc 1 52 5 view .LVU30
 106              		.loc 1 52 34 is_stmt 0 view .LVU31
 107 0050 0296     		str	r6, [sp, #8]
  53:core/src/usart.c ****     USART_InitStructure.WordLength = USART_WL_8B;
 108              		.loc 1 53 5 is_stmt 1 view .LVU32
 109              		.loc 1 53 36 is_stmt 0 view .LVU33
 110 0052 ADF80C40 		strh	r4, [sp, #12]	@ movhi
  54:core/src/usart.c ****     USART_InitStructure.StopBits = USART_STPB_1;
 111              		.loc 1 54 5 is_stmt 1 view .LVU34
 112              		.loc 1 54 34 is_stmt 0 view .LVU35
 113 0056 ADF80E40 		strh	r4, [sp, #14]	@ movhi
  55:core/src/usart.c ****     USART_InitStructure.Parity = USART_PE_NO;
 114              		.loc 1 55 5 is_stmt 1 view .LVU36
 115              		.loc 1 55 32 is_stmt 0 view .LVU37
 116 005a ADF81040 		strh	r4, [sp, #16]	@ movhi
  56:core/src/usart.c ****     USART_InitStructure.HardwareFlowControl = USART_HFCTRL_NONE;
ARM GAS  C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s 			page 4


 117              		.loc 1 56 5 is_stmt 1 view .LVU38
 118              		.loc 1 56 45 is_stmt 0 view .LVU39
 119 005e ADF81440 		strh	r4, [sp, #20]	@ movhi
  57:core/src/usart.c ****     USART_InitStructure.Mode = USART_MODE_TX | USART_MODE_RX;
 120              		.loc 1 57 5 is_stmt 1 view .LVU40
 121              		.loc 1 57 30 is_stmt 0 view .LVU41
 122 0062 0C23     		movs	r3, #12
 123 0064 ADF81230 		strh	r3, [sp, #18]	@ movhi
  58:core/src/usart.c ****     USART_Initializes(USART1, &USART_InitStructure);
 124              		.loc 1 58 5 is_stmt 1 view .LVU42
 125 0068 154E     		ldr	r6, .L3+4
 126              	.LVL6:
 127              		.loc 1 58 5 is_stmt 0 view .LVU43
 128 006a 02A9     		add	r1, sp, #8
 129              	.LVL7:
 130              		.loc 1 58 5 view .LVU44
 131 006c 3046     		mov	r0, r6
 132 006e FFF7FEFF 		bl	USART_Initializes
 133              	.LVL8:
  59:core/src/usart.c **** 
  60:core/src/usart.c ****     /* Configure NVIC for USART1 */
  61:core/src/usart.c ****     NVIC_InitStructure.NVIC_IRQChannel = USART1_IRQn;
 134              		.loc 1 61 5 is_stmt 1 view .LVU45
 135              		.loc 1 61 40 is_stmt 0 view .LVU46
 136 0072 2423     		movs	r3, #36
 137 0074 8DF80430 		strb	r3, [sp, #4]
  62:core/src/usart.c ****     NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority = 1;
 138              		.loc 1 62 5 is_stmt 1 view .LVU47
 139              		.loc 1 62 58 is_stmt 0 view .LVU48
 140 0078 8DF80550 		strb	r5, [sp, #5]
  63:core/src/usart.c ****     NVIC_InitStructure.NVIC_IRQChannelSubPriority = 1;
 141              		.loc 1 63 5 is_stmt 1 view .LVU49
 142              		.loc 1 63 51 is_stmt 0 view .LVU50
 143 007c 8DF80650 		strb	r5, [sp, #6]
  64:core/src/usart.c ****     NVIC_InitStructure.NVIC_IRQChannelCmd = ENABLE;
 144              		.loc 1 64 5 is_stmt 1 view .LVU51
 145              		.loc 1 64 43 is_stmt 0 view .LVU52
 146 0080 8DF80750 		strb	r5, [sp, #7]
  65:core/src/usart.c ****     NVIC_Initializes(&NVIC_InitStructure);
 147              		.loc 1 65 5 is_stmt 1 view .LVU53
 148 0084 01A8     		add	r0, sp, #4
 149 0086 FFF7FEFF 		bl	NVIC_Initializes
 150              	.LVL9:
  66:core/src/usart.c **** 
  67:core/src/usart.c ****     /* Enable USART1 receive interrupt */
  68:core/src/usart.c ****     USART_Interrput_Enable(USART1, USART_INT_RXDNE);
 151              		.loc 1 68 5 view .LVU54
 152 008a 40F22551 		movw	r1, #1317
 153 008e 3046     		mov	r0, r6
 154 0090 FFF7FEFF 		bl	USART_Interrput_Enable
 155              	.LVL10:
  69:core/src/usart.c **** 
  70:core/src/usart.c ****     /* Enable USART1 */
  71:core/src/usart.c ****     USART_Enable(USART1);
 156              		.loc 1 71 5 view .LVU55
 157 0094 3046     		mov	r0, r6
 158 0096 FFF7FEFF 		bl	USART_Enable
ARM GAS  C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s 			page 5


 159              	.LVL11:
  72:core/src/usart.c **** 
  73:core/src/usart.c ****     /* Clear buffers */
  74:core/src/usart.c ****     memset(rx_buffer, 0, sizeof(rx_buffer));
 160              		.loc 1 74 5 view .LVU56
 161 009a 4FF48072 		mov	r2, #256
 162 009e 2146     		mov	r1, r4
 163 00a0 0848     		ldr	r0, .L3+8
 164 00a2 FFF7FEFF 		bl	memset
 165              	.LVL12:
  75:core/src/usart.c ****     rx_write_index = 0;
 166              		.loc 1 75 5 view .LVU57
 167              		.loc 1 75 20 is_stmt 0 view .LVU58
 168 00a6 084B     		ldr	r3, .L3+12
 169 00a8 1C80     		strh	r4, [r3]	@ movhi
  76:core/src/usart.c ****     rx_read_index = 0;
 170              		.loc 1 76 5 is_stmt 1 view .LVU59
 171              		.loc 1 76 19 is_stmt 0 view .LVU60
 172 00aa 084B     		ldr	r3, .L3+16
 173 00ac 1C80     		strh	r4, [r3]	@ movhi
  77:core/src/usart.c ****     rx_count = 0;
 174              		.loc 1 77 5 is_stmt 1 view .LVU61
 175              		.loc 1 77 14 is_stmt 0 view .LVU62
 176 00ae 084B     		ldr	r3, .L3+20
 177 00b0 1C80     		strh	r4, [r3]	@ movhi
  78:core/src/usart.c **** 
  79:core/src/usart.c ****     usart1_initialized = 1;
 178              		.loc 1 79 5 is_stmt 1 view .LVU63
 179              		.loc 1 79 24 is_stmt 0 view .LVU64
 180 00b2 084B     		ldr	r3, .L3+24
 181 00b4 1D70     		strb	r5, [r3]
  80:core/src/usart.c **** }
 182              		.loc 1 80 1 view .LVU65
 183 00b6 0DB0     		add	sp, sp, #52
 184              	.LCFI2:
 185              		.cfi_def_cfa_offset 28
 186              		@ sp needed
 187 00b8 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 188              	.L4:
 189              		.align	2
 190              	.L3:
 191 00bc 00340240 		.word	1073886208
 192 00c0 00380140 		.word	1073821696
 193 00c4 00000000 		.word	rx_buffer
 194 00c8 00000000 		.word	rx_write_index
 195 00cc 00000000 		.word	rx_read_index
 196 00d0 00000000 		.word	rx_count
 197 00d4 00000000 		.word	usart1_initialized
 198              		.cfi_endproc
 199              	.LFE126:
 201              		.section	.text.USART1_DeInit,"ax",%progbits
 202              		.align	1
 203              		.global	USART1_DeInit
 204              		.syntax unified
 205              		.thumb
 206              		.thumb_func
 208              	USART1_DeInit:
ARM GAS  C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s 			page 6


 209              	.LFB127:
  81:core/src/usart.c **** 
  82:core/src/usart.c **** /**
  83:core/src/usart.c ****  * @brief Deinitialize USART1
  84:core/src/usart.c ****  * @param None
  85:core/src/usart.c ****  * @retval None
  86:core/src/usart.c ****  */
  87:core/src/usart.c **** void USART1_DeInit(void)
  88:core/src/usart.c **** {
 210              		.loc 1 88 1 is_stmt 1 view -0
 211              		.cfi_startproc
 212              		@ args = 0, pretend = 0, frame = 0
 213              		@ frame_needed = 0, uses_anonymous_args = 0
 214 0000 08B5     		push	{r3, lr}
 215              	.LCFI3:
 216              		.cfi_def_cfa_offset 8
 217              		.cfi_offset 3, -8
 218              		.cfi_offset 14, -4
  89:core/src/usart.c ****     USART_Disable(USART1);
 219              		.loc 1 89 5 view .LVU67
 220 0002 0348     		ldr	r0, .L7
 221 0004 FFF7FEFF 		bl	USART_Disable
 222              	.LVL13:
  90:core/src/usart.c ****     usart1_initialized = 0;
 223              		.loc 1 90 5 view .LVU68
 224              		.loc 1 90 24 is_stmt 0 view .LVU69
 225 0008 024B     		ldr	r3, .L7+4
 226 000a 0022     		movs	r2, #0
 227 000c 1A70     		strb	r2, [r3]
  91:core/src/usart.c **** }
 228              		.loc 1 91 1 view .LVU70
 229 000e 08BD     		pop	{r3, pc}
 230              	.L8:
 231              		.align	2
 232              	.L7:
 233 0010 00380140 		.word	1073821696
 234 0014 00000000 		.word	usart1_initialized
 235              		.cfi_endproc
 236              	.LFE127:
 238              		.section	.text.USART1_Send_Char,"ax",%progbits
 239              		.align	1
 240              		.global	USART1_Send_Char
 241              		.syntax unified
 242              		.thumb
 243              		.thumb_func
 245              	USART1_Send_Char:
 246              	.LVL14:
 247              	.LFB128:
  92:core/src/usart.c **** 
  93:core/src/usart.c **** /**
  94:core/src/usart.c ****  * @brief Send a character via USART1
  95:core/src/usart.c ****  * @param ch: Character to send
  96:core/src/usart.c ****  * @retval None
  97:core/src/usart.c ****  */
  98:core/src/usart.c **** void USART1_Send_Char(char ch)
  99:core/src/usart.c **** {
 248              		.loc 1 99 1 is_stmt 1 view -0
ARM GAS  C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s 			page 7


 249              		.cfi_startproc
 250              		@ args = 0, pretend = 0, frame = 0
 251              		@ frame_needed = 0, uses_anonymous_args = 0
 252              		.loc 1 99 1 is_stmt 0 view .LVU72
 253 0000 10B5     		push	{r4, lr}
 254              	.LCFI4:
 255              		.cfi_def_cfa_offset 8
 256              		.cfi_offset 4, -8
 257              		.cfi_offset 14, -4
 258 0002 0446     		mov	r4, r0
 100:core/src/usart.c ****     if (!usart1_initialized) return;
 259              		.loc 1 100 5 is_stmt 1 view .LVU73
 260              		.loc 1 100 9 is_stmt 0 view .LVU74
 261 0004 094B     		ldr	r3, .L14
 262 0006 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 263              		.loc 1 100 8 view .LVU75
 264 0008 7BB1     		cbz	r3, .L9
 265              	.LVL15:
 266              	.L11:
 101:core/src/usart.c **** 
 102:core/src/usart.c ****     /* Wait for TX register to be empty */
 103:core/src/usart.c ****     while (USART_Flag_Status_Get(USART1, USART_FLAG_TXDE) == RESET);
 267              		.loc 1 103 59 is_stmt 1 discriminator 1 view .LVU76
 268              		.loc 1 103 12 is_stmt 0 discriminator 1 view .LVU77
 269 000a 8021     		movs	r1, #128
 270 000c 0848     		ldr	r0, .L14+4
 271 000e FFF7FEFF 		bl	USART_Flag_Status_Get
 272              	.LVL16:
 273              		.loc 1 103 59 discriminator 1 view .LVU78
 274 0012 0028     		cmp	r0, #0
 275 0014 F9D0     		beq	.L11
 104:core/src/usart.c **** 
 105:core/src/usart.c ****     /* Send character */
 106:core/src/usart.c ****     USART_Data_Send(USART1, (uint8_t)ch);
 276              		.loc 1 106 5 is_stmt 1 view .LVU79
 277 0016 2146     		mov	r1, r4
 278 0018 0548     		ldr	r0, .L14+4
 279 001a FFF7FEFF 		bl	USART_Data_Send
 280              	.LVL17:
 107:core/src/usart.c **** 
 108:core/src/usart.c ****     /* Wait for transmission complete */
 109:core/src/usart.c ****     while (USART_Flag_Status_Get(USART1, USART_FLAG_TXC) == RESET);
 281              		.loc 1 109 5 view .LVU80
 282              	.L12:
 283              		.loc 1 109 58 discriminator 1 view .LVU81
 284              		.loc 1 109 12 is_stmt 0 discriminator 1 view .LVU82
 285 001e 4021     		movs	r1, #64
 286 0020 0348     		ldr	r0, .L14+4
 287 0022 FFF7FEFF 		bl	USART_Flag_Status_Get
 288              	.LVL18:
 289              		.loc 1 109 58 discriminator 1 view .LVU83
 290 0026 0028     		cmp	r0, #0
 291 0028 F9D0     		beq	.L12
 292              	.L9:
 110:core/src/usart.c **** }
 293              		.loc 1 110 1 view .LVU84
 294 002a 10BD     		pop	{r4, pc}
ARM GAS  C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s 			page 8


 295              	.LVL19:
 296              	.L15:
 297              		.loc 1 110 1 view .LVU85
 298              		.align	2
 299              	.L14:
 300 002c 00000000 		.word	usart1_initialized
 301 0030 00380140 		.word	1073821696
 302              		.cfi_endproc
 303              	.LFE128:
 305              		.section	.text.USART1_Send_String,"ax",%progbits
 306              		.align	1
 307              		.global	USART1_Send_String
 308              		.syntax unified
 309              		.thumb
 310              		.thumb_func
 312              	USART1_Send_String:
 313              	.LVL20:
 314              	.LFB129:
 111:core/src/usart.c **** 
 112:core/src/usart.c **** /**
 113:core/src/usart.c ****  * @brief Send a string via USART1
 114:core/src/usart.c ****  * @param str: String to send
 115:core/src/usart.c ****  * @retval None
 116:core/src/usart.c ****  */
 117:core/src/usart.c **** void USART1_Send_String(const char* str)
 118:core/src/usart.c **** {
 315              		.loc 1 118 1 is_stmt 1 view -0
 316              		.cfi_startproc
 317              		@ args = 0, pretend = 0, frame = 0
 318              		@ frame_needed = 0, uses_anonymous_args = 0
 319              		.loc 1 118 1 is_stmt 0 view .LVU87
 320 0000 10B5     		push	{r4, lr}
 321              	.LCFI5:
 322              		.cfi_def_cfa_offset 8
 323              		.cfi_offset 4, -8
 324              		.cfi_offset 14, -4
 119:core/src/usart.c ****     if (!str) return;
 325              		.loc 1 119 5 is_stmt 1 view .LVU88
 326              		.loc 1 119 8 is_stmt 0 view .LVU89
 327 0002 0446     		mov	r4, r0
 328 0004 18B9     		cbnz	r0, .L18
 329 0006 05E0     		b	.L16
 330              	.LVL21:
 331              	.L19:
 120:core/src/usart.c **** 
 121:core/src/usart.c ****     while (*str)
 122:core/src/usart.c ****     {
 123:core/src/usart.c ****         USART1_Send_Char(*str++);
 332              		.loc 1 123 9 is_stmt 1 view .LVU90
 333              		.loc 1 123 30 is_stmt 0 view .LVU91
 334 0008 0134     		adds	r4, r4, #1
 335              	.LVL22:
 336              		.loc 1 123 9 view .LVU92
 337 000a FFF7FEFF 		bl	USART1_Send_Char
 338              	.LVL23:
 339              	.L18:
 121:core/src/usart.c ****     {
ARM GAS  C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s 			page 9


 340              		.loc 1 121 12 is_stmt 1 view .LVU93
 341 000e 2078     		ldrb	r0, [r4]	@ zero_extendqisi2
 342 0010 0028     		cmp	r0, #0
 343 0012 F9D1     		bne	.L19
 344              	.L16:
 124:core/src/usart.c ****     }
 125:core/src/usart.c **** }
 345              		.loc 1 125 1 is_stmt 0 view .LVU94
 346 0014 10BD     		pop	{r4, pc}
 347              		.loc 1 125 1 view .LVU95
 348              		.cfi_endproc
 349              	.LFE129:
 351              		.section	.text.USART1_Send_Data,"ax",%progbits
 352              		.align	1
 353              		.global	USART1_Send_Data
 354              		.syntax unified
 355              		.thumb
 356              		.thumb_func
 358              	USART1_Send_Data:
 359              	.LVL24:
 360              	.LFB130:
 126:core/src/usart.c **** 
 127:core/src/usart.c **** /**
 128:core/src/usart.c ****  * @brief Send data array via USART1
 129:core/src/usart.c ****  * @param data: Data array to send
 130:core/src/usart.c ****  * @param length: Length of data
 131:core/src/usart.c ****  * @retval None
 132:core/src/usart.c ****  */
 133:core/src/usart.c **** void USART1_Send_Data(const uint8_t* data, uint16_t length)
 134:core/src/usart.c **** {
 361              		.loc 1 134 1 is_stmt 1 view -0
 362              		.cfi_startproc
 363              		@ args = 0, pretend = 0, frame = 0
 364              		@ frame_needed = 0, uses_anonymous_args = 0
 135:core/src/usart.c ****     if (!data || length == 0) return;
 365              		.loc 1 135 5 view .LVU97
 366              		.loc 1 135 8 is_stmt 0 view .LVU98
 367 0000 68B1     		cbz	r0, .L26
 134:core/src/usart.c ****     if (!data || length == 0) return;
 368              		.loc 1 134 1 view .LVU99
 369 0002 70B5     		push	{r4, r5, r6, lr}
 370              	.LCFI6:
 371              		.cfi_def_cfa_offset 16
 372              		.cfi_offset 4, -16
 373              		.cfi_offset 5, -12
 374              		.cfi_offset 6, -8
 375              		.cfi_offset 14, -4
 376 0004 0D46     		mov	r5, r1
 377 0006 0646     		mov	r6, r0
 378              		.loc 1 135 15 discriminator 2 view .LVU100
 379 0008 41B1     		cbz	r1, .L21
 380              	.LBB2:
 136:core/src/usart.c **** 
 137:core/src/usart.c ****     for (uint16_t i = 0; i < length; i++)
 381              		.loc 1 137 19 view .LVU101
 382 000a 0024     		movs	r4, #0
 383              	.LVL25:
ARM GAS  C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s 			page 10


 384              	.L23:
 385              		.loc 1 137 28 is_stmt 1 discriminator 1 view .LVU102
 386 000c AC42     		cmp	r4, r5
 387 000e 05D2     		bcs	.L21
 138:core/src/usart.c ****     {
 139:core/src/usart.c ****         USART1_Send_Char((char)data[i]);
 388              		.loc 1 139 9 view .LVU103
 389 0010 305D     		ldrb	r0, [r6, r4]	@ zero_extendqisi2
 390 0012 FFF7FEFF 		bl	USART1_Send_Char
 391              	.LVL26:
 137:core/src/usart.c ****     {
 392              		.loc 1 137 39 discriminator 3 view .LVU104
 393 0016 0134     		adds	r4, r4, #1
 394              	.LVL27:
 137:core/src/usart.c ****     {
 395              		.loc 1 137 39 is_stmt 0 discriminator 3 view .LVU105
 396 0018 A4B2     		uxth	r4, r4
 397              	.LVL28:
 137:core/src/usart.c ****     {
 398              		.loc 1 137 39 discriminator 3 view .LVU106
 399 001a F7E7     		b	.L23
 400              	.LVL29:
 401              	.L21:
 137:core/src/usart.c ****     {
 402              		.loc 1 137 39 discriminator 3 view .LVU107
 403              	.LBE2:
 140:core/src/usart.c ****     }
 141:core/src/usart.c **** }
 404              		.loc 1 141 1 view .LVU108
 405 001c 70BD     		pop	{r4, r5, r6, pc}
 406              	.LVL30:
 407              	.L26:
 408              	.LCFI7:
 409              		.cfi_def_cfa_offset 0
 410              		.cfi_restore 4
 411              		.cfi_restore 5
 412              		.cfi_restore 6
 413              		.cfi_restore 14
 414              		.loc 1 141 1 view .LVU109
 415 001e 7047     		bx	lr
 416              		.cfi_endproc
 417              	.LFE130:
 419              		.section	.text.USART1_Receive_Char,"ax",%progbits
 420              		.align	1
 421              		.global	USART1_Receive_Char
 422              		.syntax unified
 423              		.thumb
 424              		.thumb_func
 426              	USART1_Receive_Char:
 427              	.LFB131:
 142:core/src/usart.c **** 
 143:core/src/usart.c **** /**
 144:core/src/usart.c ****  * @brief Receive a character from USART1 (blocking)
 145:core/src/usart.c ****  * @param None
 146:core/src/usart.c ****  * @retval Received character
 147:core/src/usart.c ****  */
 148:core/src/usart.c **** char USART1_Receive_Char(void)
ARM GAS  C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s 			page 11


 149:core/src/usart.c **** {
 428              		.loc 1 149 1 is_stmt 1 view -0
 429              		.cfi_startproc
 430              		@ args = 0, pretend = 0, frame = 0
 431              		@ frame_needed = 0, uses_anonymous_args = 0
 432 0000 08B5     		push	{r3, lr}
 433              	.LCFI8:
 434              		.cfi_def_cfa_offset 8
 435              		.cfi_offset 3, -8
 436              		.cfi_offset 14, -4
 150:core/src/usart.c ****     if (!usart1_initialized) return 0;
 437              		.loc 1 150 5 view .LVU111
 438              		.loc 1 150 9 is_stmt 0 view .LVU112
 439 0002 074B     		ldr	r3, .L33
 440 0004 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 441              		.loc 1 150 8 view .LVU113
 442 0006 48B1     		cbz	r0, .L30
 443              	.L31:
 151:core/src/usart.c **** 
 152:core/src/usart.c ****     /* Wait for data to be received */
 153:core/src/usart.c ****     while (USART_Flag_Status_Get(USART1, USART_FLAG_RXDNE) == RESET);
 444              		.loc 1 153 60 is_stmt 1 discriminator 1 view .LVU114
 445              		.loc 1 153 12 is_stmt 0 discriminator 1 view .LVU115
 446 0008 2021     		movs	r1, #32
 447 000a 0648     		ldr	r0, .L33+4
 448 000c FFF7FEFF 		bl	USART_Flag_Status_Get
 449              	.LVL31:
 450              		.loc 1 153 60 discriminator 1 view .LVU116
 451 0010 0028     		cmp	r0, #0
 452 0012 F9D0     		beq	.L31
 154:core/src/usart.c **** 
 155:core/src/usart.c ****     /* Return received data */
 156:core/src/usart.c ****     return (char)USART_Data_Receive(USART1);
 453              		.loc 1 156 5 is_stmt 1 view .LVU117
 454              		.loc 1 156 18 is_stmt 0 view .LVU118
 455 0014 0348     		ldr	r0, .L33+4
 456 0016 FFF7FEFF 		bl	USART_Data_Receive
 457              	.LVL32:
 458              		.loc 1 156 12 discriminator 1 view .LVU119
 459 001a C0B2     		uxtb	r0, r0
 460              	.L30:
 157:core/src/usart.c **** }
 461              		.loc 1 157 1 view .LVU120
 462 001c 08BD     		pop	{r3, pc}
 463              	.L34:
 464 001e 00BF     		.align	2
 465              	.L33:
 466 0020 00000000 		.word	usart1_initialized
 467 0024 00380140 		.word	1073821696
 468              		.cfi_endproc
 469              	.LFE131:
 471              		.section	.text.USART1_Receive_String,"ax",%progbits
 472              		.align	1
 473              		.global	USART1_Receive_String
 474              		.syntax unified
 475              		.thumb
 476              		.thumb_func
ARM GAS  C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s 			page 12


 478              	USART1_Receive_String:
 479              	.LVL33:
 480              	.LFB132:
 158:core/src/usart.c **** 
 159:core/src/usart.c **** /**
 160:core/src/usart.c ****  * @brief Receive a string from USART1 with timeout
 161:core/src/usart.c ****  * @param buffer: Buffer to store received string
 162:core/src/usart.c ****  * @param max_length: Maximum length of buffer
 163:core/src/usart.c ****  * @param timeout_ms: Timeout in milliseconds
 164:core/src/usart.c ****  * @retval Number of characters received
 165:core/src/usart.c ****  */
 166:core/src/usart.c **** uint16_t USART1_Receive_String(char* buffer, uint16_t max_length, uint32_t timeout_ms)
 167:core/src/usart.c **** {
 481              		.loc 1 167 1 is_stmt 1 view -0
 482              		.cfi_startproc
 483              		@ args = 0, pretend = 0, frame = 0
 484              		@ frame_needed = 0, uses_anonymous_args = 0
 485              		.loc 1 167 1 is_stmt 0 view .LVU122
 486 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 487              	.LCFI9:
 488              		.cfi_def_cfa_offset 32
 489              		.cfi_offset 3, -32
 490              		.cfi_offset 4, -28
 491              		.cfi_offset 5, -24
 492              		.cfi_offset 6, -20
 493              		.cfi_offset 7, -16
 494              		.cfi_offset 8, -12
 495              		.cfi_offset 9, -8
 496              		.cfi_offset 14, -4
 168:core/src/usart.c ****     if (!buffer || max_length == 0) return 0;
 497              		.loc 1 168 5 is_stmt 1 view .LVU123
 498              		.loc 1 168 8 is_stmt 0 view .LVU124
 499 0004 B8B3     		cbz	r0, .L41
 500 0006 0D46     		mov	r5, r1
 501 0008 1646     		mov	r6, r2
 502 000a 0746     		mov	r7, r0
 503              		.loc 1 168 17 discriminator 2 view .LVU125
 504 000c 19B9     		cbnz	r1, .L44
 505              		.loc 1 168 44 discriminator 3 view .LVU126
 506 000e 0C46     		mov	r4, r1
 507              	.LVL34:
 508              	.L36:
 169:core/src/usart.c **** 
 170:core/src/usart.c ****     uint16_t count = 0;
 171:core/src/usart.c ****     uint32_t start_time = Get_Tick_Count();
 172:core/src/usart.c ****     uint32_t timeout_us = timeout_ms * 1000;
 173:core/src/usart.c **** 
 174:core/src/usart.c ****     while (count < (max_length - 1))
 175:core/src/usart.c ****     {
 176:core/src/usart.c ****         if (USART_Flag_Status_Get(USART1, USART_FLAG_RXDNE) != RESET)
 177:core/src/usart.c ****         {
 178:core/src/usart.c ****             char ch = (char)USART_Data_Receive(USART1);
 179:core/src/usart.c ****             
 180:core/src/usart.c ****             if (ch == '\r' || ch == '\n')
 181:core/src/usart.c ****             {
 182:core/src/usart.c ****                 break; /* End of line */
 183:core/src/usart.c ****             }
ARM GAS  C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s 			page 13


 184:core/src/usart.c ****             
 185:core/src/usart.c ****             buffer[count++] = ch;
 186:core/src/usart.c ****             start_time = Get_Tick_Count(); /* Reset timeout on each character */
 187:core/src/usart.c ****         }
 188:core/src/usart.c ****         
 189:core/src/usart.c ****         /* Check timeout */
 190:core/src/usart.c ****         if ((Get_Tick_Count() - start_time) > timeout_us)
 191:core/src/usart.c ****         {
 192:core/src/usart.c ****             break;
 193:core/src/usart.c ****         }
 194:core/src/usart.c ****         
 195:core/src/usart.c ****         Delay_us(100); /* Small delay to prevent busy waiting */
 196:core/src/usart.c ****     }
 197:core/src/usart.c **** 
 198:core/src/usart.c ****     buffer[count] = '\0'; /* Null terminate */
 199:core/src/usart.c ****     return count;
 200:core/src/usart.c **** }
 509              		.loc 1 200 1 view .LVU127
 510 0010 2046     		mov	r0, r4
 511 0012 BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 512              	.LVL35:
 513              	.L44:
 170:core/src/usart.c ****     uint32_t start_time = Get_Tick_Count();
 514              		.loc 1 170 5 is_stmt 1 view .LVU128
 171:core/src/usart.c ****     uint32_t timeout_us = timeout_ms * 1000;
 515              		.loc 1 171 5 view .LVU129
 171:core/src/usart.c ****     uint32_t timeout_us = timeout_ms * 1000;
 516              		.loc 1 171 27 is_stmt 0 view .LVU130
 517 0016 FFF7FEFF 		bl	Get_Tick_Count
 518              	.LVL36:
 171:core/src/usart.c ****     uint32_t timeout_us = timeout_ms * 1000;
 519              		.loc 1 171 27 view .LVU131
 520 001a 8046     		mov	r8, r0
 521              	.LVL37:
 172:core/src/usart.c **** 
 522              		.loc 1 172 5 is_stmt 1 view .LVU132
 172:core/src/usart.c **** 
 523              		.loc 1 172 14 is_stmt 0 view .LVU133
 524 001c 4FF47A73 		mov	r3, #1000
 525 0020 03FB06F6 		mul	r6, r3, r6
 526              	.LVL38:
 174:core/src/usart.c ****     {
 527              		.loc 1 174 5 is_stmt 1 view .LVU134
 170:core/src/usart.c ****     uint32_t start_time = Get_Tick_Count();
 528              		.loc 1 170 14 is_stmt 0 view .LVU135
 529 0024 0024     		movs	r4, #0
 174:core/src/usart.c ****     {
 530              		.loc 1 174 11 view .LVU136
 531 0026 08E0     		b	.L37
 532              	.LVL39:
 533              	.L38:
 190:core/src/usart.c ****         {
 534              		.loc 1 190 9 is_stmt 1 view .LVU137
 190:core/src/usart.c ****         {
 535              		.loc 1 190 14 is_stmt 0 view .LVU138
 536 0028 FFF7FEFF 		bl	Get_Tick_Count
 537              	.LVL40:
ARM GAS  C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s 			page 14


 190:core/src/usart.c ****         {
 538              		.loc 1 190 31 discriminator 1 view .LVU139
 539 002c A0EB0803 		sub	r3, r0, r8
 190:core/src/usart.c ****         {
 540              		.loc 1 190 12 discriminator 1 view .LVU140
 541 0030 B342     		cmp	r3, r6
 542 0032 1DD8     		bhi	.L39
 195:core/src/usart.c ****     }
 543              		.loc 1 195 9 is_stmt 1 view .LVU141
 544 0034 6420     		movs	r0, #100
 545 0036 FFF7FEFF 		bl	Delay_us
 546              	.LVL41:
 547              	.L37:
 174:core/src/usart.c ****     {
 548              		.loc 1 174 18 view .LVU142
 174:core/src/usart.c ****     {
 549              		.loc 1 174 32 is_stmt 0 view .LVU143
 550 003a 6B1E     		subs	r3, r5, #1
 174:core/src/usart.c ****     {
 551              		.loc 1 174 18 view .LVU144
 552 003c 9C42     		cmp	r4, r3
 553 003e 17DA     		bge	.L39
 176:core/src/usart.c ****         {
 554              		.loc 1 176 9 is_stmt 1 view .LVU145
 176:core/src/usart.c ****         {
 555              		.loc 1 176 13 is_stmt 0 view .LVU146
 556 0040 2021     		movs	r1, #32
 557 0042 0E48     		ldr	r0, .L45
 558 0044 FFF7FEFF 		bl	USART_Flag_Status_Get
 559              	.LVL42:
 176:core/src/usart.c ****         {
 560              		.loc 1 176 12 discriminator 1 view .LVU147
 561 0048 0028     		cmp	r0, #0
 562 004a EDD0     		beq	.L38
 563              	.LBB3:
 178:core/src/usart.c ****             
 564              		.loc 1 178 13 is_stmt 1 view .LVU148
 178:core/src/usart.c ****             
 565              		.loc 1 178 29 is_stmt 0 view .LVU149
 566 004c 0B48     		ldr	r0, .L45
 567 004e FFF7FEFF 		bl	USART_Data_Receive
 568              	.LVL43:
 178:core/src/usart.c ****             
 569              		.loc 1 178 18 discriminator 1 view .LVU150
 570 0052 C0B2     		uxtb	r0, r0
 571              	.LVL44:
 180:core/src/usart.c ****             {
 572              		.loc 1 180 13 is_stmt 1 view .LVU151
 180:core/src/usart.c ****             {
 573              		.loc 1 180 16 is_stmt 0 view .LVU152
 574 0054 0D28     		cmp	r0, #13
 575 0056 0BD0     		beq	.L39
 180:core/src/usart.c ****             {
 576              		.loc 1 180 28 discriminator 1 view .LVU153
 577 0058 0A28     		cmp	r0, #10
 578 005a 09D0     		beq	.L39
 185:core/src/usart.c ****             start_time = Get_Tick_Count(); /* Reset timeout on each character */
ARM GAS  C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s 			page 15


 579              		.loc 1 185 13 is_stmt 1 view .LVU154
 185:core/src/usart.c ****             start_time = Get_Tick_Count(); /* Reset timeout on each character */
 580              		.loc 1 185 25 is_stmt 0 view .LVU155
 581 005c 04F10109 		add	r9, r4, #1
 582 0060 1FFA89F9 		uxth	r9, r9
 583              	.LVL45:
 185:core/src/usart.c ****             start_time = Get_Tick_Count(); /* Reset timeout on each character */
 584              		.loc 1 185 29 view .LVU156
 585 0064 3855     		strb	r0, [r7, r4]
 186:core/src/usart.c ****         }
 586              		.loc 1 186 13 is_stmt 1 view .LVU157
 186:core/src/usart.c ****         }
 587              		.loc 1 186 26 is_stmt 0 view .LVU158
 588 0066 FFF7FEFF 		bl	Get_Tick_Count
 589              	.LVL46:
 186:core/src/usart.c ****         }
 590              		.loc 1 186 26 view .LVU159
 591 006a 8046     		mov	r8, r0
 592              	.LVL47:
 185:core/src/usart.c ****             start_time = Get_Tick_Count(); /* Reset timeout on each character */
 593              		.loc 1 185 25 view .LVU160
 594 006c 4C46     		mov	r4, r9
 595 006e DBE7     		b	.L38
 596              	.LVL48:
 597              	.L39:
 185:core/src/usart.c ****             start_time = Get_Tick_Count(); /* Reset timeout on each character */
 598              		.loc 1 185 25 view .LVU161
 599              	.LBE3:
 198:core/src/usart.c ****     return count;
 600              		.loc 1 198 5 is_stmt 1 view .LVU162
 198:core/src/usart.c ****     return count;
 601              		.loc 1 198 19 is_stmt 0 view .LVU163
 602 0070 0023     		movs	r3, #0
 603 0072 3B55     		strb	r3, [r7, r4]
 199:core/src/usart.c **** }
 604              		.loc 1 199 5 is_stmt 1 view .LVU164
 199:core/src/usart.c **** }
 605              		.loc 1 199 12 is_stmt 0 view .LVU165
 606 0074 CCE7     		b	.L36
 607              	.LVL49:
 608              	.L41:
 168:core/src/usart.c **** 
 609              		.loc 1 168 44 discriminator 3 view .LVU166
 610 0076 0024     		movs	r4, #0
 611 0078 CAE7     		b	.L36
 612              	.L46:
 613 007a 00BF     		.align	2
 614              	.L45:
 615 007c 00380140 		.word	1073821696
 616              		.cfi_endproc
 617              	.LFE132:
 619              		.section	.text.USART1_Printf,"ax",%progbits
 620              		.align	1
 621              		.global	USART1_Printf
 622              		.syntax unified
 623              		.thumb
 624              		.thumb_func
ARM GAS  C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s 			page 16


 626              	USART1_Printf:
 627              	.LVL50:
 628              	.LFB133:
 201:core/src/usart.c **** 
 202:core/src/usart.c **** /**
 203:core/src/usart.c ****  * @brief Printf-style formatted output via USART1
 204:core/src/usart.c ****  * @param format: Format string
 205:core/src/usart.c ****  * @param ...: Variable arguments
 206:core/src/usart.c ****  * @retval None
 207:core/src/usart.c ****  */
 208:core/src/usart.c **** void USART1_Printf(const char* format, ...)
 209:core/src/usart.c **** {
 629              		.loc 1 209 1 is_stmt 1 view -0
 630              		.cfi_startproc
 631              		@ args = 4, pretend = 16, frame = 8
 632              		@ frame_needed = 0, uses_anonymous_args = 1
 633              		.loc 1 209 1 is_stmt 0 view .LVU168
 634 0000 0FB4     		push	{r0, r1, r2, r3}
 635              	.LCFI10:
 636              		.cfi_def_cfa_offset 16
 637              		.cfi_offset 0, -16
 638              		.cfi_offset 1, -12
 639              		.cfi_offset 2, -8
 640              		.cfi_offset 3, -4
 641 0002 00B5     		push	{lr}
 642              	.LCFI11:
 643              		.cfi_def_cfa_offset 20
 644              		.cfi_offset 14, -20
 645 0004 83B0     		sub	sp, sp, #12
 646              	.LCFI12:
 647              		.cfi_def_cfa_offset 32
 648 0006 04AB     		add	r3, sp, #16
 649 0008 53F8042B 		ldr	r2, [r3], #4
 210:core/src/usart.c ****     va_list args;
 650              		.loc 1 210 5 is_stmt 1 view .LVU169
 211:core/src/usart.c ****     int length;
 651              		.loc 1 211 5 view .LVU170
 212:core/src/usart.c **** 
 213:core/src/usart.c ****     va_start(args, format);
 652              		.loc 1 213 5 view .LVU171
 653 000c 0193     		str	r3, [sp, #4]
 214:core/src/usart.c ****     length = vsnprintf(tx_buffer, sizeof(tx_buffer), format, args);
 654              		.loc 1 214 5 view .LVU172
 655              		.loc 1 214 14 is_stmt 0 view .LVU173
 656 000e 4FF48071 		mov	r1, #256
 657 0012 0748     		ldr	r0, .L51
 658 0014 FFF7FEFF 		bl	vsnprintf
 659              	.LVL51:
 215:core/src/usart.c ****     va_end(args);
 660              		.loc 1 215 5 is_stmt 1 view .LVU174
 216:core/src/usart.c **** 
 217:core/src/usart.c ****     if (length > 0 && length < sizeof(tx_buffer))
 661              		.loc 1 217 5 view .LVU175
 662              		.loc 1 217 20 is_stmt 0 view .LVU176
 663 0018 0138     		subs	r0, r0, #1
 664              	.LVL52:
 665              		.loc 1 217 8 view .LVU177
ARM GAS  C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s 			page 17


 666 001a FE28     		cmp	r0, #254
 667 001c 04D9     		bls	.L50
 668              	.LVL53:
 669              	.L47:
 218:core/src/usart.c ****     {
 219:core/src/usart.c ****         USART1_Send_String(tx_buffer);
 220:core/src/usart.c ****     }
 221:core/src/usart.c **** }
 670              		.loc 1 221 1 view .LVU178
 671 001e 03B0     		add	sp, sp, #12
 672              	.LCFI13:
 673              		.cfi_remember_state
 674              		.cfi_def_cfa_offset 20
 675              		@ sp needed
 676 0020 5DF804EB 		ldr	lr, [sp], #4
 677              	.LCFI14:
 678              		.cfi_restore 14
 679              		.cfi_def_cfa_offset 16
 680 0024 04B0     		add	sp, sp, #16
 681              	.LCFI15:
 682              		.cfi_restore 3
 683              		.cfi_restore 2
 684              		.cfi_restore 1
 685              		.cfi_restore 0
 686              		.cfi_def_cfa_offset 0
 687 0026 7047     		bx	lr
 688              	.LVL54:
 689              	.L50:
 690              	.LCFI16:
 691              		.cfi_restore_state
 219:core/src/usart.c ****     }
 692              		.loc 1 219 9 is_stmt 1 view .LVU179
 693 0028 0148     		ldr	r0, .L51
 694              	.LVL55:
 219:core/src/usart.c ****     }
 695              		.loc 1 219 9 is_stmt 0 view .LVU180
 696 002a FFF7FEFF 		bl	USART1_Send_String
 697              	.LVL56:
 698              		.loc 1 221 1 view .LVU181
 699 002e F6E7     		b	.L47
 700              	.L52:
 701              		.align	2
 702              	.L51:
 703 0030 00000000 		.word	tx_buffer
 704              		.cfi_endproc
 705              	.LFE133:
 707              		.section	.rodata.USART1_Send_Hex.str1.4,"aMS",%progbits,1
 708              		.align	2
 709              	.LC0:
 710 0000 30782530 		.ascii	"0x%08X\000"
 710      385800
 711              		.section	.text.USART1_Send_Hex,"ax",%progbits
 712              		.align	1
 713              		.global	USART1_Send_Hex
 714              		.syntax unified
 715              		.thumb
 716              		.thumb_func
ARM GAS  C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s 			page 18


 718              	USART1_Send_Hex:
 719              	.LVL57:
 720              	.LFB134:
 222:core/src/usart.c **** 
 223:core/src/usart.c **** /**
 224:core/src/usart.c ****  * @brief Send hexadecimal value via USART1
 225:core/src/usart.c ****  * @param value: Value to send in hex
 226:core/src/usart.c ****  * @retval None
 227:core/src/usart.c ****  */
 228:core/src/usart.c **** void USART1_Send_Hex(uint32_t value)
 229:core/src/usart.c **** {
 721              		.loc 1 229 1 is_stmt 1 view -0
 722              		.cfi_startproc
 723              		@ args = 0, pretend = 0, frame = 0
 724              		@ frame_needed = 0, uses_anonymous_args = 0
 725              		.loc 1 229 1 is_stmt 0 view .LVU183
 726 0000 08B5     		push	{r3, lr}
 727              	.LCFI17:
 728              		.cfi_def_cfa_offset 8
 729              		.cfi_offset 3, -8
 730              		.cfi_offset 14, -4
 731 0002 0146     		mov	r1, r0
 230:core/src/usart.c ****     USART1_Printf("0x%08X", value);
 732              		.loc 1 230 5 is_stmt 1 view .LVU184
 733 0004 0148     		ldr	r0, .L55
 734              	.LVL58:
 735              		.loc 1 230 5 is_stmt 0 view .LVU185
 736 0006 FFF7FEFF 		bl	USART1_Printf
 737              	.LVL59:
 231:core/src/usart.c **** }
 738              		.loc 1 231 1 view .LVU186
 739 000a 08BD     		pop	{r3, pc}
 740              	.L56:
 741              		.align	2
 742              	.L55:
 743 000c 00000000 		.word	.LC0
 744              		.cfi_endproc
 745              	.LFE134:
 747              		.section	.rodata.USART1_Send_Dec.str1.4,"aMS",%progbits,1
 748              		.align	2
 749              	.LC1:
 750 0000 257500   		.ascii	"%u\000"
 751              		.section	.text.USART1_Send_Dec,"ax",%progbits
 752              		.align	1
 753              		.global	USART1_Send_Dec
 754              		.syntax unified
 755              		.thumb
 756              		.thumb_func
 758              	USART1_Send_Dec:
 759              	.LVL60:
 760              	.LFB135:
 232:core/src/usart.c **** 
 233:core/src/usart.c **** /**
 234:core/src/usart.c ****  * @brief Send decimal value via USART1
 235:core/src/usart.c ****  * @param value: Value to send in decimal
 236:core/src/usart.c ****  * @retval None
 237:core/src/usart.c ****  */
ARM GAS  C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s 			page 19


 238:core/src/usart.c **** void USART1_Send_Dec(uint32_t value)
 239:core/src/usart.c **** {
 761              		.loc 1 239 1 is_stmt 1 view -0
 762              		.cfi_startproc
 763              		@ args = 0, pretend = 0, frame = 0
 764              		@ frame_needed = 0, uses_anonymous_args = 0
 765              		.loc 1 239 1 is_stmt 0 view .LVU188
 766 0000 08B5     		push	{r3, lr}
 767              	.LCFI18:
 768              		.cfi_def_cfa_offset 8
 769              		.cfi_offset 3, -8
 770              		.cfi_offset 14, -4
 771 0002 0146     		mov	r1, r0
 240:core/src/usart.c ****     USART1_Printf("%u", value);
 772              		.loc 1 240 5 is_stmt 1 view .LVU189
 773 0004 0148     		ldr	r0, .L59
 774              	.LVL61:
 775              		.loc 1 240 5 is_stmt 0 view .LVU190
 776 0006 FFF7FEFF 		bl	USART1_Printf
 777              	.LVL62:
 241:core/src/usart.c **** }
 778              		.loc 1 241 1 view .LVU191
 779 000a 08BD     		pop	{r3, pc}
 780              	.L60:
 781              		.align	2
 782              	.L59:
 783 000c 00000000 		.word	.LC1
 784              		.cfi_endproc
 785              	.LFE135:
 787              		.section	.rodata.USART1_Send_Float.str1.4,"aMS",%progbits,1
 788              		.align	2
 789              	.LC2:
 790 0000 25252E25 		.ascii	"%%.%df\000"
 790      646600
 791              		.section	.text.USART1_Send_Float,"ax",%progbits
 792              		.align	1
 793              		.global	USART1_Send_Float
 794              		.syntax unified
 795              		.thumb
 796              		.thumb_func
 798              	USART1_Send_Float:
 799              	.LVL63:
 800              	.LFB136:
 242:core/src/usart.c **** 
 243:core/src/usart.c **** /**
 244:core/src/usart.c ****  * @brief Send floating point value via USART1
 245:core/src/usart.c ****  * @param value: Float value to send
 246:core/src/usart.c ****  * @param decimals: Number of decimal places
 247:core/src/usart.c ****  * @retval None
 248:core/src/usart.c ****  */
 249:core/src/usart.c **** void USART1_Send_Float(float value, uint8_t decimals)
 250:core/src/usart.c **** {
 801              		.loc 1 250 1 is_stmt 1 view -0
 802              		.cfi_startproc
 803              		@ args = 0, pretend = 0, frame = 16
 804              		@ frame_needed = 0, uses_anonymous_args = 0
 805              		.loc 1 250 1 is_stmt 0 view .LVU193
ARM GAS  C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s 			page 20


 806 0000 30B5     		push	{r4, r5, lr}
 807              	.LCFI19:
 808              		.cfi_def_cfa_offset 12
 809              		.cfi_offset 4, -12
 810              		.cfi_offset 5, -8
 811              		.cfi_offset 14, -4
 812 0002 85B0     		sub	sp, sp, #20
 813              	.LCFI20:
 814              		.cfi_def_cfa_offset 32
 815 0004 0446     		mov	r4, r0
 816 0006 0B46     		mov	r3, r1
 251:core/src/usart.c ****     char format[16];
 817              		.loc 1 251 5 is_stmt 1 view .LVU194
 252:core/src/usart.c ****     snprintf(format, sizeof(format), "%%.%df", decimals);
 818              		.loc 1 252 5 view .LVU195
 819 0008 074A     		ldr	r2, .L63
 820 000a 1021     		movs	r1, #16
 821              	.LVL64:
 822              		.loc 1 252 5 is_stmt 0 view .LVU196
 823 000c 6846     		mov	r0, sp
 824              	.LVL65:
 825              		.loc 1 252 5 view .LVU197
 826 000e FFF7FEFF 		bl	snprintf
 827              	.LVL66:
 253:core/src/usart.c ****     USART1_Printf(format, value);
 828              		.loc 1 253 5 is_stmt 1 view .LVU198
 829 0012 2046     		mov	r0, r4
 830 0014 FFF7FEFF 		bl	__aeabi_f2d
 831              	.LVL67:
 832 0018 0246     		mov	r2, r0
 833 001a 0B46     		mov	r3, r1
 834 001c 6846     		mov	r0, sp
 835 001e FFF7FEFF 		bl	USART1_Printf
 836              	.LVL68:
 254:core/src/usart.c **** }
 837              		.loc 1 254 1 is_stmt 0 view .LVU199
 838 0022 05B0     		add	sp, sp, #20
 839              	.LCFI21:
 840              		.cfi_def_cfa_offset 12
 841              		@ sp needed
 842 0024 30BD     		pop	{r4, r5, pc}
 843              	.LVL69:
 844              	.L64:
 845              		.loc 1 254 1 view .LVU200
 846 0026 00BF     		.align	2
 847              	.L63:
 848 0028 00000000 		.word	.LC2
 849              		.cfi_endproc
 850              	.LFE136:
 852              		.section	.text.USART1_Is_TX_Ready,"ax",%progbits
 853              		.align	1
 854              		.global	USART1_Is_TX_Ready
 855              		.syntax unified
 856              		.thumb
 857              		.thumb_func
 859              	USART1_Is_TX_Ready:
 860              	.LFB137:
ARM GAS  C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s 			page 21


 255:core/src/usart.c **** 
 256:core/src/usart.c **** /**
 257:core/src/usart.c ****  * @brief Check if USART1 TX is ready
 258:core/src/usart.c ****  * @param None
 259:core/src/usart.c ****  * @retval 1 if ready, 0 if not
 260:core/src/usart.c ****  */
 261:core/src/usart.c **** uint8_t USART1_Is_TX_Ready(void)
 262:core/src/usart.c **** {
 861              		.loc 1 262 1 is_stmt 1 view -0
 862              		.cfi_startproc
 863              		@ args = 0, pretend = 0, frame = 0
 864              		@ frame_needed = 0, uses_anonymous_args = 0
 865 0000 08B5     		push	{r3, lr}
 866              	.LCFI22:
 867              		.cfi_def_cfa_offset 8
 868              		.cfi_offset 3, -8
 869              		.cfi_offset 14, -4
 263:core/src/usart.c ****     if (!usart1_initialized) return 0;
 870              		.loc 1 263 5 view .LVU202
 871              		.loc 1 263 9 is_stmt 0 view .LVU203
 872 0002 064B     		ldr	r3, .L69
 873 0004 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 874              		.loc 1 263 8 view .LVU204
 875 0006 00B9     		cbnz	r0, .L68
 876              	.L66:
 264:core/src/usart.c ****     return (USART_Flag_Status_Get(USART1, USART_FLAG_TXDE) != RESET) ? 1 : 0;
 265:core/src/usart.c **** }
 877              		.loc 1 265 1 view .LVU205
 878 0008 08BD     		pop	{r3, pc}
 879              	.L68:
 264:core/src/usart.c ****     return (USART_Flag_Status_Get(USART1, USART_FLAG_TXDE) != RESET) ? 1 : 0;
 880              		.loc 1 264 5 is_stmt 1 view .LVU206
 264:core/src/usart.c ****     return (USART_Flag_Status_Get(USART1, USART_FLAG_TXDE) != RESET) ? 1 : 0;
 881              		.loc 1 264 13 is_stmt 0 view .LVU207
 882 000a 8021     		movs	r1, #128
 883 000c 0448     		ldr	r0, .L69+4
 884 000e FFF7FEFF 		bl	USART_Flag_Status_Get
 885              	.LVL70:
 264:core/src/usart.c ****     return (USART_Flag_Status_Get(USART1, USART_FLAG_TXDE) != RESET) ? 1 : 0;
 886              		.loc 1 264 74 discriminator 1 view .LVU208
 887 0012 0038     		subs	r0, r0, #0
 888 0014 18BF     		it	ne
 889 0016 0120     		movne	r0, #1
 264:core/src/usart.c ****     return (USART_Flag_Status_Get(USART1, USART_FLAG_TXDE) != RESET) ? 1 : 0;
 890              		.loc 1 264 74 view .LVU209
 891 0018 F6E7     		b	.L66
 892              	.L70:
 893 001a 00BF     		.align	2
 894              	.L69:
 895 001c 00000000 		.word	usart1_initialized
 896 0020 00380140 		.word	1073821696
 897              		.cfi_endproc
 898              	.LFE137:
 900              		.section	.text.USART1_Is_RX_Ready,"ax",%progbits
 901              		.align	1
 902              		.global	USART1_Is_RX_Ready
 903              		.syntax unified
ARM GAS  C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s 			page 22


 904              		.thumb
 905              		.thumb_func
 907              	USART1_Is_RX_Ready:
 908              	.LFB138:
 266:core/src/usart.c **** 
 267:core/src/usart.c **** /**
 268:core/src/usart.c ****  * @brief Check if USART1 RX has data
 269:core/src/usart.c ****  * @param None
 270:core/src/usart.c ****  * @retval 1 if data available, 0 if not
 271:core/src/usart.c ****  */
 272:core/src/usart.c **** uint8_t USART1_Is_RX_Ready(void)
 273:core/src/usart.c **** {
 909              		.loc 1 273 1 is_stmt 1 view -0
 910              		.cfi_startproc
 911              		@ args = 0, pretend = 0, frame = 0
 912              		@ frame_needed = 0, uses_anonymous_args = 0
 913 0000 08B5     		push	{r3, lr}
 914              	.LCFI23:
 915              		.cfi_def_cfa_offset 8
 916              		.cfi_offset 3, -8
 917              		.cfi_offset 14, -4
 274:core/src/usart.c ****     if (!usart1_initialized) return 0;
 918              		.loc 1 274 5 view .LVU211
 919              		.loc 1 274 9 is_stmt 0 view .LVU212
 920 0002 064B     		ldr	r3, .L75
 921 0004 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 922              		.loc 1 274 8 view .LVU213
 923 0006 00B9     		cbnz	r0, .L74
 924              	.L72:
 275:core/src/usart.c ****     return (USART_Flag_Status_Get(USART1, USART_FLAG_RXDNE) != RESET) ? 1 : 0;
 276:core/src/usart.c **** }
 925              		.loc 1 276 1 view .LVU214
 926 0008 08BD     		pop	{r3, pc}
 927              	.L74:
 275:core/src/usart.c ****     return (USART_Flag_Status_Get(USART1, USART_FLAG_RXDNE) != RESET) ? 1 : 0;
 928              		.loc 1 275 5 is_stmt 1 view .LVU215
 275:core/src/usart.c ****     return (USART_Flag_Status_Get(USART1, USART_FLAG_RXDNE) != RESET) ? 1 : 0;
 929              		.loc 1 275 13 is_stmt 0 view .LVU216
 930 000a 2021     		movs	r1, #32
 931 000c 0448     		ldr	r0, .L75+4
 932 000e FFF7FEFF 		bl	USART_Flag_Status_Get
 933              	.LVL71:
 275:core/src/usart.c ****     return (USART_Flag_Status_Get(USART1, USART_FLAG_RXDNE) != RESET) ? 1 : 0;
 934              		.loc 1 275 75 discriminator 1 view .LVU217
 935 0012 0038     		subs	r0, r0, #0
 936 0014 18BF     		it	ne
 937 0016 0120     		movne	r0, #1
 275:core/src/usart.c ****     return (USART_Flag_Status_Get(USART1, USART_FLAG_RXDNE) != RESET) ? 1 : 0;
 938              		.loc 1 275 75 view .LVU218
 939 0018 F6E7     		b	.L72
 940              	.L76:
 941 001a 00BF     		.align	2
 942              	.L75:
 943 001c 00000000 		.word	usart1_initialized
 944 0020 00380140 		.word	1073821696
 945              		.cfi_endproc
 946              	.LFE138:
ARM GAS  C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s 			page 23


 948              		.section	.text.USART1_Is_Initialized,"ax",%progbits
 949              		.align	1
 950              		.global	USART1_Is_Initialized
 951              		.syntax unified
 952              		.thumb
 953              		.thumb_func
 955              	USART1_Is_Initialized:
 956              	.LFB139:
 277:core/src/usart.c **** 
 278:core/src/usart.c **** /**
 279:core/src/usart.c ****  * @brief Check if USART1 is initialized
 280:core/src/usart.c ****  * @param None
 281:core/src/usart.c ****  * @retval 1 if initialized, 0 if not
 282:core/src/usart.c ****  */
 283:core/src/usart.c **** uint8_t USART1_Is_Initialized(void)
 284:core/src/usart.c **** {
 957              		.loc 1 284 1 is_stmt 1 view -0
 958              		.cfi_startproc
 959              		@ args = 0, pretend = 0, frame = 0
 960              		@ frame_needed = 0, uses_anonymous_args = 0
 961              		@ link register save eliminated.
 285:core/src/usart.c ****     return usart1_initialized;
 962              		.loc 1 285 5 view .LVU220
 286:core/src/usart.c **** }
 963              		.loc 1 286 1 is_stmt 0 view .LVU221
 964 0000 014B     		ldr	r3, .L78
 965 0002 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 966 0004 7047     		bx	lr
 967              	.L79:
 968 0006 00BF     		.align	2
 969              	.L78:
 970 0008 00000000 		.word	usart1_initialized
 971              		.cfi_endproc
 972              	.LFE139:
 974              		.section	.text.USART1_IT_Enable,"ax",%progbits
 975              		.align	1
 976              		.global	USART1_IT_Enable
 977              		.syntax unified
 978              		.thumb
 979              		.thumb_func
 981              	USART1_IT_Enable:
 982              	.LFB140:
 287:core/src/usart.c **** 
 288:core/src/usart.c **** /**
 289:core/src/usart.c ****  * @brief Enable USART1 interrupts
 290:core/src/usart.c ****  * @param None
 291:core/src/usart.c ****  * @retval None
 292:core/src/usart.c ****  */
 293:core/src/usart.c **** void USART1_IT_Enable(void)
 294:core/src/usart.c **** {
 983              		.loc 1 294 1 is_stmt 1 view -0
 984              		.cfi_startproc
 985              		@ args = 0, pretend = 0, frame = 0
 986              		@ frame_needed = 0, uses_anonymous_args = 0
 987 0000 08B5     		push	{r3, lr}
 988              	.LCFI24:
 989              		.cfi_def_cfa_offset 8
ARM GAS  C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s 			page 24


 990              		.cfi_offset 3, -8
 991              		.cfi_offset 14, -4
 295:core/src/usart.c ****     USART_Interrput_Enable(USART1, USART_INT_RXDNE);
 992              		.loc 1 295 5 view .LVU223
 993 0002 40F22551 		movw	r1, #1317
 994 0006 0248     		ldr	r0, .L82
 995 0008 FFF7FEFF 		bl	USART_Interrput_Enable
 996              	.LVL72:
 296:core/src/usart.c **** }
 997              		.loc 1 296 1 is_stmt 0 view .LVU224
 998 000c 08BD     		pop	{r3, pc}
 999              	.L83:
 1000 000e 00BF     		.align	2
 1001              	.L82:
 1002 0010 00380140 		.word	1073821696
 1003              		.cfi_endproc
 1004              	.LFE140:
 1006              		.section	.text.USART1_IT_Disable,"ax",%progbits
 1007              		.align	1
 1008              		.global	USART1_IT_Disable
 1009              		.syntax unified
 1010              		.thumb
 1011              		.thumb_func
 1013              	USART1_IT_Disable:
 1014              	.LFB141:
 297:core/src/usart.c **** 
 298:core/src/usart.c **** /**
 299:core/src/usart.c ****  * @brief Disable USART1 interrupts
 300:core/src/usart.c ****  * @param None
 301:core/src/usart.c ****  * @retval None
 302:core/src/usart.c ****  */
 303:core/src/usart.c **** void USART1_IT_Disable(void)
 304:core/src/usart.c **** {
 1015              		.loc 1 304 1 is_stmt 1 view -0
 1016              		.cfi_startproc
 1017              		@ args = 0, pretend = 0, frame = 0
 1018              		@ frame_needed = 0, uses_anonymous_args = 0
 1019 0000 08B5     		push	{r3, lr}
 1020              	.LCFI25:
 1021              		.cfi_def_cfa_offset 8
 1022              		.cfi_offset 3, -8
 1023              		.cfi_offset 14, -4
 305:core/src/usart.c ****     USART_Interrput_Disable(USART1, USART_INT_RXDNE);
 1024              		.loc 1 305 5 view .LVU226
 1025 0002 40F22551 		movw	r1, #1317
 1026 0006 0248     		ldr	r0, .L86
 1027 0008 FFF7FEFF 		bl	USART_Interrput_Disable
 1028              	.LVL73:
 306:core/src/usart.c **** }
 1029              		.loc 1 306 1 is_stmt 0 view .LVU227
 1030 000c 08BD     		pop	{r3, pc}
 1031              	.L87:
 1032 000e 00BF     		.align	2
 1033              	.L86:
 1034 0010 00380140 		.word	1073821696
 1035              		.cfi_endproc
 1036              	.LFE141:
ARM GAS  C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s 			page 25


 1038              		.section	.text.USART1_Get_RX_Buffer_Count,"ax",%progbits
 1039              		.align	1
 1040              		.global	USART1_Get_RX_Buffer_Count
 1041              		.syntax unified
 1042              		.thumb
 1043              		.thumb_func
 1045              	USART1_Get_RX_Buffer_Count:
 1046              	.LFB142:
 307:core/src/usart.c **** 
 308:core/src/usart.c **** /**
 309:core/src/usart.c ****  * @brief Get number of characters in RX buffer
 310:core/src/usart.c ****  * @param None
 311:core/src/usart.c ****  * @retval Number of characters available
 312:core/src/usart.c ****  */
 313:core/src/usart.c **** uint16_t USART1_Get_RX_Buffer_Count(void)
 314:core/src/usart.c **** {
 1047              		.loc 1 314 1 is_stmt 1 view -0
 1048              		.cfi_startproc
 1049              		@ args = 0, pretend = 0, frame = 0
 1050              		@ frame_needed = 0, uses_anonymous_args = 0
 1051              		@ link register save eliminated.
 315:core/src/usart.c ****     return rx_count;
 1052              		.loc 1 315 5 view .LVU229
 1053              		.loc 1 315 12 is_stmt 0 view .LVU230
 1054 0000 014B     		ldr	r3, .L89
 1055 0002 1888     		ldrh	r0, [r3]
 316:core/src/usart.c **** }
 1056              		.loc 1 316 1 view .LVU231
 1057 0004 80B2     		uxth	r0, r0
 1058 0006 7047     		bx	lr
 1059              	.L90:
 1060              		.align	2
 1061              	.L89:
 1062 0008 00000000 		.word	rx_count
 1063              		.cfi_endproc
 1064              	.LFE142:
 1066              		.section	.text.USART1_Read_RX_Buffer,"ax",%progbits
 1067              		.align	1
 1068              		.global	USART1_Read_RX_Buffer
 1069              		.syntax unified
 1070              		.thumb
 1071              		.thumb_func
 1073              	USART1_Read_RX_Buffer:
 1074              	.LVL74:
 1075              	.LFB143:
 317:core/src/usart.c **** 
 318:core/src/usart.c **** /**
 319:core/src/usart.c ****  * @brief Read data from RX buffer
 320:core/src/usart.c ****  * @param buffer: Buffer to store data
 321:core/src/usart.c ****  * @param max_length: Maximum length to read
 322:core/src/usart.c ****  * @retval Number of characters read
 323:core/src/usart.c ****  */
 324:core/src/usart.c **** uint16_t USART1_Read_RX_Buffer(char* buffer, uint16_t max_length)
 325:core/src/usart.c **** {
 1076              		.loc 1 325 1 is_stmt 1 view -0
 1077              		.cfi_startproc
 1078              		@ args = 0, pretend = 0, frame = 0
ARM GAS  C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s 			page 26


 1079              		@ frame_needed = 0, uses_anonymous_args = 0
 1080              		@ link register save eliminated.
 1081              		.loc 1 325 1 is_stmt 0 view .LVU233
 1082 0000 0246     		mov	r2, r0
 326:core/src/usart.c ****     uint16_t read_count = 0;
 1083              		.loc 1 326 5 is_stmt 1 view .LVU234
 1084              	.LVL75:
 327:core/src/usart.c **** 
 328:core/src/usart.c ****     while (rx_count > 0 && read_count < max_length)
 1085              		.loc 1 328 5 view .LVU235
 326:core/src/usart.c ****     uint16_t read_count = 0;
 1086              		.loc 1 326 14 is_stmt 0 view .LVU236
 1087 0002 0020     		movs	r0, #0
 1088              	.LVL76:
 1089              		.loc 1 328 25 is_stmt 1 view .LVU237
 1090              		.loc 1 328 21 is_stmt 0 view .LVU238
 1091 0004 154B     		ldr	r3, .L101
 1092 0006 1B88     		ldrh	r3, [r3]
 1093 0008 9BB2     		uxth	r3, r3
 1094              		.loc 1 328 25 view .LVU239
 1095 000a 2BB3     		cbz	r3, .L98
 1096              		.loc 1 328 25 discriminator 1 view .LVU240
 1097 000c 8842     		cmp	r0, r1
 1098 000e 22D2     		bcs	.L100
 325:core/src/usart.c ****     uint16_t read_count = 0;
 1099              		.loc 1 325 1 view .LVU241
 1100 0010 30B4     		push	{r4, r5}
 1101              	.LCFI26:
 1102              		.cfi_def_cfa_offset 8
 1103              		.cfi_offset 4, -8
 1104              		.cfi_offset 5, -4
 1105              	.L94:
 329:core/src/usart.c ****     {
 330:core/src/usart.c ****         buffer[read_count++] = rx_buffer[rx_read_index];
 1106              		.loc 1 330 9 is_stmt 1 view .LVU242
 1107              		.loc 1 330 41 is_stmt 0 view .LVU243
 1108 0012 134C     		ldr	r4, .L101+4
 1109 0014 2388     		ldrh	r3, [r4]
 1110 0016 9BB2     		uxth	r3, r3
 1111              		.loc 1 330 26 view .LVU244
 1112 0018 00F1010C 		add	ip, r0, #1
 1113              	.LVL77:
 1114              		.loc 1 330 41 view .LVU245
 1115 001c 114D     		ldr	r5, .L101+8
 1116 001e EB5C     		ldrb	r3, [r5, r3]	@ zero_extendqisi2
 1117              		.loc 1 330 30 view .LVU246
 1118 0020 1354     		strb	r3, [r2, r0]
 331:core/src/usart.c ****         rx_read_index = (rx_read_index + 1) % USART1_RX_BUFFER_SIZE;
 1119              		.loc 1 331 9 is_stmt 1 view .LVU247
 1120              		.loc 1 331 40 is_stmt 0 view .LVU248
 1121 0022 2388     		ldrh	r3, [r4]
 1122 0024 9BB2     		uxth	r3, r3
 1123 0026 0133     		adds	r3, r3, #1
 1124              		.loc 1 331 45 view .LVU249
 1125 0028 5842     		rsbs	r0, r3, #0
 1126 002a DBB2     		uxtb	r3, r3
 1127 002c C0B2     		uxtb	r0, r0
ARM GAS  C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s 			page 27


 1128 002e 58BF     		it	pl
 1129 0030 4342     		rsbpl	r3, r0, #0
 1130              		.loc 1 331 23 view .LVU250
 1131 0032 9BB2     		uxth	r3, r3
 1132 0034 2380     		strh	r3, [r4]	@ movhi
 332:core/src/usart.c ****         rx_count--;
 1133              		.loc 1 332 9 is_stmt 1 view .LVU251
 1134              		.loc 1 332 17 is_stmt 0 view .LVU252
 1135 0036 0948     		ldr	r0, .L101
 1136 0038 0388     		ldrh	r3, [r0]
 1137 003a 9BB2     		uxth	r3, r3
 1138 003c 013B     		subs	r3, r3, #1
 1139 003e 9BB2     		uxth	r3, r3
 1140 0040 0380     		strh	r3, [r0]	@ movhi
 330:core/src/usart.c ****         rx_read_index = (rx_read_index + 1) % USART1_RX_BUFFER_SIZE;
 1141              		.loc 1 330 26 view .LVU253
 1142 0042 1FFA8CF0 		uxth	r0, ip
 1143              	.LVL78:
 328:core/src/usart.c ****     {
 1144              		.loc 1 328 25 is_stmt 1 view .LVU254
 328:core/src/usart.c ****     {
 1145              		.loc 1 328 21 is_stmt 0 view .LVU255
 1146 0046 054B     		ldr	r3, .L101
 1147 0048 1B88     		ldrh	r3, [r3]
 1148 004a 9BB2     		uxth	r3, r3
 328:core/src/usart.c ****     {
 1149              		.loc 1 328 25 view .LVU256
 1150 004c 0BB1     		cbz	r3, .L93
 328:core/src/usart.c ****     {
 1151              		.loc 1 328 25 discriminator 1 view .LVU257
 1152 004e 8842     		cmp	r0, r1
 1153 0050 DFD3     		bcc	.L94
 1154              	.L93:
 333:core/src/usart.c ****     }
 334:core/src/usart.c **** 
 335:core/src/usart.c ****     return read_count;
 1155              		.loc 1 335 5 is_stmt 1 view .LVU258
 336:core/src/usart.c **** }
 1156              		.loc 1 336 1 is_stmt 0 view .LVU259
 1157 0052 30BC     		pop	{r4, r5}
 1158              	.LCFI27:
 1159              		.cfi_restore 5
 1160              		.cfi_restore 4
 1161              		.cfi_def_cfa_offset 0
 1162 0054 7047     		bx	lr
 1163              	.L100:
 1164              		.loc 1 336 1 view .LVU260
 1165 0056 7047     		bx	lr
 1166              	.L98:
 335:core/src/usart.c **** }
 1167              		.loc 1 335 5 is_stmt 1 view .LVU261
 1168              		.loc 1 336 1 is_stmt 0 view .LVU262
 1169 0058 7047     		bx	lr
 1170              	.L102:
 1171 005a 00BF     		.align	2
 1172              	.L101:
 1173 005c 00000000 		.word	rx_count
ARM GAS  C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s 			page 28


 1174 0060 00000000 		.word	rx_read_index
 1175 0064 00000000 		.word	rx_buffer
 1176              		.cfi_endproc
 1177              	.LFE143:
 1179              		.section	.text.USART1_IRQHandler,"ax",%progbits
 1180              		.align	1
 1181              		.global	USART1_IRQHandler
 1182              		.syntax unified
 1183              		.thumb
 1184              		.thumb_func
 1186              	USART1_IRQHandler:
 1187              	.LFB144:
 337:core/src/usart.c **** 
 338:core/src/usart.c **** /**
 339:core/src/usart.c ****  * @brief USART1 interrupt handler
 340:core/src/usart.c ****  * @param None
 341:core/src/usart.c ****  * @retval None
 342:core/src/usart.c ****  */
 343:core/src/usart.c **** void USART1_IRQHandler(void)
 344:core/src/usart.c **** {
 1188              		.loc 1 344 1 is_stmt 1 view -0
 1189              		.cfi_startproc
 1190              		@ args = 0, pretend = 0, frame = 0
 1191              		@ frame_needed = 0, uses_anonymous_args = 0
 1192 0000 08B5     		push	{r3, lr}
 1193              	.LCFI28:
 1194              		.cfi_def_cfa_offset 8
 1195              		.cfi_offset 3, -8
 1196              		.cfi_offset 14, -4
 345:core/src/usart.c ****     /* Check if USART1 received data */
 346:core/src/usart.c ****     if (USART_Interrupt_Status_Get(USART1, USART_INT_RXDNE) != RESET)
 1197              		.loc 1 346 5 view .LVU264
 1198              		.loc 1 346 9 is_stmt 0 view .LVU265
 1199 0002 40F22551 		movw	r1, #1317
 1200 0006 1448     		ldr	r0, .L108
 1201 0008 FFF7FEFF 		bl	USART_Interrupt_Status_Get
 1202              	.LVL79:
 1203              		.loc 1 346 8 discriminator 1 view .LVU266
 1204 000c 00B9     		cbnz	r0, .L107
 1205              	.L103:
 347:core/src/usart.c ****     {
 348:core/src/usart.c ****         char received_char = (char)USART_Data_Receive(USART1);
 349:core/src/usart.c ****         
 350:core/src/usart.c ****         /* Store character in circular buffer */
 351:core/src/usart.c ****         if (rx_count < USART1_RX_BUFFER_SIZE)
 352:core/src/usart.c ****         {
 353:core/src/usart.c ****             rx_buffer[rx_write_index] = received_char;
 354:core/src/usart.c ****             rx_write_index = (rx_write_index + 1) % USART1_RX_BUFFER_SIZE;
 355:core/src/usart.c ****             rx_count++;
 356:core/src/usart.c ****         }
 357:core/src/usart.c ****         
 358:core/src/usart.c ****         /* Clear the interrupt flag */
 359:core/src/usart.c ****         USART_Interrupt_Status_Clear(USART1, USART_INT_RXDNE);
 360:core/src/usart.c ****     }
 361:core/src/usart.c **** }
 1206              		.loc 1 361 1 view .LVU267
 1207 000e 08BD     		pop	{r3, pc}
ARM GAS  C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s 			page 29


 1208              	.L107:
 1209              	.LBB4:
 348:core/src/usart.c ****         
 1210              		.loc 1 348 9 is_stmt 1 view .LVU268
 348:core/src/usart.c ****         
 1211              		.loc 1 348 36 is_stmt 0 view .LVU269
 1212 0010 1148     		ldr	r0, .L108
 1213 0012 FFF7FEFF 		bl	USART_Data_Receive
 1214              	.LVL80:
 348:core/src/usart.c ****         
 1215              		.loc 1 348 14 discriminator 1 view .LVU270
 1216 0016 C0B2     		uxtb	r0, r0
 1217              	.LVL81:
 351:core/src/usart.c ****         {
 1218              		.loc 1 351 9 is_stmt 1 view .LVU271
 351:core/src/usart.c ****         {
 1219              		.loc 1 351 22 is_stmt 0 view .LVU272
 1220 0018 104B     		ldr	r3, .L108+4
 1221 001a 1B88     		ldrh	r3, [r3]
 1222 001c 9BB2     		uxth	r3, r3
 351:core/src/usart.c ****         {
 1223              		.loc 1 351 12 view .LVU273
 1224 001e FF2B     		cmp	r3, #255
 1225 0020 14D8     		bhi	.L105
 353:core/src/usart.c ****             rx_write_index = (rx_write_index + 1) % USART1_RX_BUFFER_SIZE;
 1226              		.loc 1 353 13 is_stmt 1 view .LVU274
 353:core/src/usart.c ****             rx_write_index = (rx_write_index + 1) % USART1_RX_BUFFER_SIZE;
 1227              		.loc 1 353 22 is_stmt 0 view .LVU275
 1228 0022 0F4A     		ldr	r2, .L108+8
 1229 0024 1388     		ldrh	r3, [r2]
 1230 0026 9BB2     		uxth	r3, r3
 353:core/src/usart.c ****             rx_write_index = (rx_write_index + 1) % USART1_RX_BUFFER_SIZE;
 1231              		.loc 1 353 39 view .LVU276
 1232 0028 0E49     		ldr	r1, .L108+12
 1233 002a C854     		strb	r0, [r1, r3]
 354:core/src/usart.c ****             rx_count++;
 1234              		.loc 1 354 13 is_stmt 1 view .LVU277
 354:core/src/usart.c ****             rx_count++;
 1235              		.loc 1 354 46 is_stmt 0 view .LVU278
 1236 002c 1388     		ldrh	r3, [r2]
 1237 002e 9BB2     		uxth	r3, r3
 1238 0030 0133     		adds	r3, r3, #1
 354:core/src/usart.c ****             rx_count++;
 1239              		.loc 1 354 51 view .LVU279
 1240 0032 5942     		rsbs	r1, r3, #0
 1241 0034 DBB2     		uxtb	r3, r3
 1242 0036 C9B2     		uxtb	r1, r1
 1243 0038 58BF     		it	pl
 1244 003a 4B42     		rsbpl	r3, r1, #0
 354:core/src/usart.c ****             rx_count++;
 1245              		.loc 1 354 28 view .LVU280
 1246 003c 9BB2     		uxth	r3, r3
 1247 003e 1380     		strh	r3, [r2]	@ movhi
 355:core/src/usart.c ****         }
 1248              		.loc 1 355 13 is_stmt 1 view .LVU281
 355:core/src/usart.c ****         }
 1249              		.loc 1 355 21 is_stmt 0 view .LVU282
ARM GAS  C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s 			page 30


 1250 0040 064A     		ldr	r2, .L108+4
 1251 0042 1388     		ldrh	r3, [r2]
 1252 0044 9BB2     		uxth	r3, r3
 1253 0046 0133     		adds	r3, r3, #1
 1254 0048 9BB2     		uxth	r3, r3
 1255 004a 1380     		strh	r3, [r2]	@ movhi
 1256              	.L105:
 359:core/src/usart.c ****     }
 1257              		.loc 1 359 9 is_stmt 1 view .LVU283
 1258 004c 40F22551 		movw	r1, #1317
 1259 0050 0148     		ldr	r0, .L108
 1260              	.LVL82:
 359:core/src/usart.c ****     }
 1261              		.loc 1 359 9 is_stmt 0 view .LVU284
 1262 0052 FFF7FEFF 		bl	USART_Interrupt_Status_Clear
 1263              	.LVL83:
 1264              	.LBE4:
 1265              		.loc 1 361 1 view .LVU285
 1266 0056 DAE7     		b	.L103
 1267              	.L109:
 1268              		.align	2
 1269              	.L108:
 1270 0058 00380140 		.word	1073821696
 1271 005c 00000000 		.word	rx_count
 1272 0060 00000000 		.word	rx_write_index
 1273 0064 00000000 		.word	rx_buffer
 1274              		.cfi_endproc
 1275              	.LFE144:
 1277              		.section	.rodata.USART1_Test_Communication.str1.4,"aMS",%progbits,1
 1278              		.align	2
 1279              	.LC3:
 1280 0000 0D0A3D3D 		.ascii	"\015\012=== USART1 Communication Test ===\015\012\000"
 1280      3D205553 
 1280      41525431 
 1280      20436F6D 
 1280      6D756E69 
 1281 0026 0000     		.align	2
 1282              	.LC4:
 1283 0028 48656C6C 		.ascii	"Hello from N32G430!\015\012\000"
 1283      6F206672 
 1283      6F6D204E 
 1283      33324734 
 1283      3330210D 
 1284 003e 0000     		.align	2
 1285              	.LC5:
 1286 0040 53797374 		.ascii	"System Clock: %u Hz\015\012\000"
 1286      656D2043 
 1286      6C6F636B 
 1286      3A202575 
 1286      20487A0D 
 1287 0056 0000     		.align	2
 1288              	.LC6:
 1289 0058 43757272 		.ascii	"Current Tick: %u us\015\012\000"
 1289      656E7420 
 1289      5469636B 
 1289      3A202575 
 1289      2075730D 
ARM GAS  C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s 			page 31


 1290 006e 0000     		.align	2
 1291              	.LC7:
 1292 0070 3D3D3D20 		.ascii	"=== Test Complete ===\015\012\015\012\000"
 1292      54657374 
 1292      20436F6D 
 1292      706C6574 
 1292      65203D3D 
 1293              		.section	.text.USART1_Test_Communication,"ax",%progbits
 1294              		.align	1
 1295              		.global	USART1_Test_Communication
 1296              		.syntax unified
 1297              		.thumb
 1298              		.thumb_func
 1300              	USART1_Test_Communication:
 1301              	.LFB145:
 362:core/src/usart.c **** 
 363:core/src/usart.c **** /**
 364:core/src/usart.c ****  * @brief Test USART1 communication
 365:core/src/usart.c ****  * @param None
 366:core/src/usart.c ****  * @retval None
 367:core/src/usart.c ****  */
 368:core/src/usart.c **** void USART1_Test_Communication(void)
 369:core/src/usart.c **** {
 1302              		.loc 1 369 1 is_stmt 1 view -0
 1303              		.cfi_startproc
 1304              		@ args = 0, pretend = 0, frame = 0
 1305              		@ frame_needed = 0, uses_anonymous_args = 0
 1306 0000 08B5     		push	{r3, lr}
 1307              	.LCFI29:
 1308              		.cfi_def_cfa_offset 8
 1309              		.cfi_offset 3, -8
 1310              		.cfi_offset 14, -4
 370:core/src/usart.c ****     USART1_Send_String("\r\n=== USART1 Communication Test ===\r\n");
 1311              		.loc 1 370 5 view .LVU287
 1312 0002 0B48     		ldr	r0, .L112
 1313 0004 FFF7FEFF 		bl	USART1_Send_String
 1314              	.LVL84:
 371:core/src/usart.c ****     USART1_Send_String("Hello from N32G430!\r\n");
 1315              		.loc 1 371 5 view .LVU288
 1316 0008 0A48     		ldr	r0, .L112+4
 1317 000a FFF7FEFF 		bl	USART1_Send_String
 1318              	.LVL85:
 372:core/src/usart.c ****     
 373:core/src/usart.c ****     USART1_Printf("System Clock: %u Hz\r\n", Timer_Get_System_Clock_Hz());
 1319              		.loc 1 373 5 view .LVU289
 1320 000e FFF7FEFF 		bl	Timer_Get_System_Clock_Hz
 1321              	.LVL86:
 1322 0012 0146     		mov	r1, r0
 1323              		.loc 1 373 5 is_stmt 0 discriminator 1 view .LVU290
 1324 0014 0848     		ldr	r0, .L112+8
 1325 0016 FFF7FEFF 		bl	USART1_Printf
 1326              	.LVL87:
 374:core/src/usart.c ****     USART1_Printf("Current Tick: %u us\r\n", Get_Tick_Count());
 1327              		.loc 1 374 5 is_stmt 1 view .LVU291
 1328 001a FFF7FEFF 		bl	Get_Tick_Count
 1329              	.LVL88:
 1330 001e 0146     		mov	r1, r0
ARM GAS  C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s 			page 32


 1331              		.loc 1 374 5 is_stmt 0 discriminator 1 view .LVU292
 1332 0020 0648     		ldr	r0, .L112+12
 1333 0022 FFF7FEFF 		bl	USART1_Printf
 1334              	.LVL89:
 375:core/src/usart.c ****     
 376:core/src/usart.c ****     USART1_Send_String("=== Test Complete ===\r\n\r\n");
 1335              		.loc 1 376 5 is_stmt 1 view .LVU293
 1336 0026 0648     		ldr	r0, .L112+16
 1337 0028 FFF7FEFF 		bl	USART1_Send_String
 1338              	.LVL90:
 377:core/src/usart.c **** }
 1339              		.loc 1 377 1 is_stmt 0 view .LVU294
 1340 002c 08BD     		pop	{r3, pc}
 1341              	.L113:
 1342 002e 00BF     		.align	2
 1343              	.L112:
 1344 0030 00000000 		.word	.LC3
 1345 0034 28000000 		.word	.LC4
 1346 0038 40000000 		.word	.LC5
 1347 003c 58000000 		.word	.LC6
 1348 0040 70000000 		.word	.LC7
 1349              		.cfi_endproc
 1350              	.LFE145:
 1352              		.section	.rodata.USART1_Test_Echo.str1.4,"aMS",%progbits,1
 1353              		.align	2
 1354              	.LC8:
 1355 0000 3D3D3D20 		.ascii	"=== Echo Test Mode ===\015\012\000"
 1355      4563686F 
 1355      20546573 
 1355      74204D6F 
 1355      6465203D 
 1356 0019 000000   		.align	2
 1357              	.LC9:
 1358 001c 54797065 		.ascii	"Type something and press Enter:\015\012\000"
 1358      20736F6D 
 1358      65746869 
 1358      6E672061 
 1358      6E642070 
 1359 003e 0000     		.align	2
 1360              	.LC10:
 1361 0040 4563686F 		.ascii	"Echo: %s\015\012\000"
 1361      3A202573 
 1361      0D0A00
 1362 004b 00       		.align	2
 1363              	.LC11:
 1364 004c 65786974 		.ascii	"exit\000"
 1364      00
 1365 0051 000000   		.align	2
 1366              	.LC12:
 1367 0054 45786974 		.ascii	"Exiting echo mode...\015\012\000"
 1367      696E6720 
 1367      6563686F 
 1367      206D6F64 
 1367      652E2E2E 
 1368              		.section	.text.USART1_Test_Echo,"ax",%progbits
 1369              		.align	1
 1370              		.global	USART1_Test_Echo
ARM GAS  C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s 			page 33


 1371              		.syntax unified
 1372              		.thumb
 1373              		.thumb_func
 1375              	USART1_Test_Echo:
 1376              	.LFB146:
 378:core/src/usart.c **** 
 379:core/src/usart.c **** /**
 380:core/src/usart.c ****  * @brief Test USART1 echo functionality
 381:core/src/usart.c ****  * @param None
 382:core/src/usart.c ****  * @retval None
 383:core/src/usart.c ****  */
 384:core/src/usart.c **** void USART1_Test_Echo(void)
 385:core/src/usart.c **** {
 1377              		.loc 1 385 1 is_stmt 1 view -0
 1378              		.cfi_startproc
 1379              		@ args = 0, pretend = 0, frame = 64
 1380              		@ frame_needed = 0, uses_anonymous_args = 0
 1381 0000 10B5     		push	{r4, lr}
 1382              	.LCFI30:
 1383              		.cfi_def_cfa_offset 8
 1384              		.cfi_offset 4, -8
 1385              		.cfi_offset 14, -4
 1386 0002 90B0     		sub	sp, sp, #64
 1387              	.LCFI31:
 1388              		.cfi_def_cfa_offset 72
 386:core/src/usart.c ****     char buffer[64];
 1389              		.loc 1 386 5 view .LVU296
 387:core/src/usart.c ****     
 388:core/src/usart.c ****     USART1_Send_String("=== Echo Test Mode ===\r\n");
 1390              		.loc 1 388 5 view .LVU297
 1391 0004 0E48     		ldr	r0, .L118
 1392 0006 FFF7FEFF 		bl	USART1_Send_String
 1393              	.LVL91:
 389:core/src/usart.c ****     USART1_Send_String("Type something and press Enter:\r\n");
 1394              		.loc 1 389 5 view .LVU298
 1395 000a 0E48     		ldr	r0, .L118+4
 1396 000c FFF7FEFF 		bl	USART1_Send_String
 1397              	.LVL92:
 1398              	.L115:
 390:core/src/usart.c ****     
 391:core/src/usart.c ****     while (1)
 1399              		.loc 1 391 5 view .LVU299
 1400              	.LBB5:
 392:core/src/usart.c ****     {
 393:core/src/usart.c ****         uint16_t received = USART1_Receive_String(buffer, sizeof(buffer), 1000);
 1401              		.loc 1 393 9 view .LVU300
 1402              		.loc 1 393 29 is_stmt 0 view .LVU301
 1403 0010 4FF47A72 		mov	r2, #1000
 1404 0014 4021     		movs	r1, #64
 1405 0016 6846     		mov	r0, sp
 1406 0018 FFF7FEFF 		bl	USART1_Receive_String
 1407              	.LVL93:
 394:core/src/usart.c ****         
 395:core/src/usart.c ****         if (received > 0)
 1408              		.loc 1 395 9 is_stmt 1 view .LVU302
 1409              		.loc 1 395 12 is_stmt 0 view .LVU303
 1410 001c 0028     		cmp	r0, #0
ARM GAS  C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s 			page 34


 1411 001e F7D0     		beq	.L115
 396:core/src/usart.c ****         {
 397:core/src/usart.c ****             USART1_Printf("Echo: %s\r\n", buffer);
 1412              		.loc 1 397 13 is_stmt 1 view .LVU304
 1413 0020 6946     		mov	r1, sp
 1414 0022 0948     		ldr	r0, .L118+8
 1415              	.LVL94:
 1416              		.loc 1 397 13 is_stmt 0 view .LVU305
 1417 0024 FFF7FEFF 		bl	USART1_Printf
 1418              	.LVL95:
 398:core/src/usart.c ****             
 399:core/src/usart.c ****             if (strcmp(buffer, "exit") == 0)
 1419              		.loc 1 399 13 is_stmt 1 view .LVU306
 1420              		.loc 1 399 17 is_stmt 0 view .LVU307
 1421 0028 0849     		ldr	r1, .L118+12
 1422 002a 6846     		mov	r0, sp
 1423 002c FFF7FEFF 		bl	strcmp
 1424              	.LVL96:
 1425              		.loc 1 399 16 discriminator 1 view .LVU308
 1426 0030 0028     		cmp	r0, #0
 1427 0032 EDD1     		bne	.L115
 400:core/src/usart.c ****             {
 401:core/src/usart.c ****                 USART1_Send_String("Exiting echo mode...\r\n");
 1428              		.loc 1 401 17 is_stmt 1 view .LVU309
 1429 0034 0648     		ldr	r0, .L118+16
 1430 0036 FFF7FEFF 		bl	USART1_Send_String
 1431              	.LVL97:
 402:core/src/usart.c ****                 break;
 1432              		.loc 1 402 17 view .LVU310
 1433              	.LBE5:
 403:core/src/usart.c ****             }
 404:core/src/usart.c ****         }
 405:core/src/usart.c ****     }
 406:core/src/usart.c **** }
 1434              		.loc 1 406 1 is_stmt 0 view .LVU311
 1435 003a 10B0     		add	sp, sp, #64
 1436              	.LCFI32:
 1437              		.cfi_def_cfa_offset 8
 1438              		@ sp needed
 1439 003c 10BD     		pop	{r4, pc}
 1440              	.L119:
 1441 003e 00BF     		.align	2
 1442              	.L118:
 1443 0040 00000000 		.word	.LC8
 1444 0044 1C000000 		.word	.LC9
 1445 0048 40000000 		.word	.LC10
 1446 004c 4C000000 		.word	.LC11
 1447 0050 54000000 		.word	.LC12
 1448              		.cfi_endproc
 1449              	.LFE146:
 1451              		.section	.rodata.USART1_Test_Send_Info.str1.4,"aMS",%progbits,1
 1452              		.align	2
 1453              	.LC13:
 1454 0000 59657300 		.ascii	"Yes\000"
 1455              		.align	2
 1456              	.LC14:
 1457 0004 4E6F00   		.ascii	"No\000"
ARM GAS  C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s 			page 35


 1458 0007 00       		.align	2
 1459              	.LC15:
 1460 0008 0D0A3D3D 		.ascii	"\015\012=== N32G430 System Information ===\015\012\000"
 1460      3D204E33 
 1460      32473433 
 1460      30205379 
 1460      7374656D 
 1461 002f 00       		.align	2
 1462              	.LC16:
 1463 0030 41484220 		.ascii	"AHB Clock: %u Hz\015\012\000"
 1463      436C6F63 
 1463      6B3A2025 
 1463      7520487A 
 1463      0D0A00
 1464 0043 00       		.align	2
 1465              	.LC17:
 1466 0044 41504231 		.ascii	"APB1 Clock: %u Hz\015\012\000"
 1466      20436C6F 
 1466      636B3A20 
 1466      25752048 
 1466      7A0D0A00 
 1467              		.align	2
 1468              	.LC18:
 1469 0058 41504232 		.ascii	"APB2 Clock: %u Hz\015\012\000"
 1469      20436C6F 
 1469      636B3A20 
 1469      25752048 
 1469      7A0D0A00 
 1470              		.align	2
 1471              	.LC19:
 1472 006c 55534152 		.ascii	"USART1 Baudrate: %u\015\012\000"
 1472      54312042 
 1472      61756472 
 1472      6174653A 
 1472      2025750D 
 1473 0082 0000     		.align	2
 1474              	.LC20:
 1475 0084 54696D65 		.ascii	"Timer Initialized: %s\015\012\000"
 1475      7220496E 
 1475      69746961 
 1475      6C697A65 
 1475      643A2025 
 1476              		.align	2
 1477              	.LC21:
 1478 009c 55534152 		.ascii	"USART1 Initialized: %s\015\012\000"
 1478      54312049 
 1478      6E697469 
 1478      616C697A 
 1478      65643A20 
 1479 00b5 000000   		.align	2
 1480              	.LC22:
 1481 00b8 53797374 		.ascii	"System Uptime: %u us\015\012\000"
 1481      656D2055 
 1481      7074696D 
 1481      653A2025 
 1481      75207573 
 1482 00cf 00       		.align	2
ARM GAS  C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s 			page 36


 1483              	.LC23:
 1484 00d0 53797374 		.ascii	"System Uptime: %u ms\015\012\000"
 1484      656D2055 
 1484      7074696D 
 1484      653A2025 
 1484      75206D73 
 1485 00e7 00       		.align	2
 1486              	.LC24:
 1487 00e8 3D3D3D20 		.ascii	"=== Information Complete ===\015\012\015\012\000"
 1487      496E666F 
 1487      726D6174 
 1487      696F6E20 
 1487      436F6D70 
 1488              		.section	.text.USART1_Test_Send_Info,"ax",%progbits
 1489              		.align	1
 1490              		.global	USART1_Test_Send_Info
 1491              		.syntax unified
 1492              		.thumb
 1493              		.thumb_func
 1495              	USART1_Test_Send_Info:
 1496              	.LFB147:
 407:core/src/usart.c **** 
 408:core/src/usart.c **** /**
 409:core/src/usart.c ****  * @brief Send system information via USART1
 410:core/src/usart.c ****  * @param None
 411:core/src/usart.c ****  * @retval None
 412:core/src/usart.c ****  */
 413:core/src/usart.c **** void USART1_Test_Send_Info(void)
 414:core/src/usart.c **** {
 1497              		.loc 1 414 1 is_stmt 1 view -0
 1498              		.cfi_startproc
 1499              		@ args = 0, pretend = 0, frame = 24
 1500              		@ frame_needed = 0, uses_anonymous_args = 0
 1501 0000 10B5     		push	{r4, lr}
 1502              	.LCFI33:
 1503              		.cfi_def_cfa_offset 8
 1504              		.cfi_offset 4, -8
 1505              		.cfi_offset 14, -4
 1506 0002 86B0     		sub	sp, sp, #24
 1507              	.LCFI34:
 1508              		.cfi_def_cfa_offset 32
 415:core/src/usart.c ****     RCC_ClocksType clocks;
 1509              		.loc 1 415 5 view .LVU313
 416:core/src/usart.c ****     
 417:core/src/usart.c ****     USART1_Send_String("\r\n=== N32G430 System Information ===\r\n");
 1510              		.loc 1 417 5 view .LVU314
 1511 0004 1F48     		ldr	r0, .L126
 1512 0006 FFF7FEFF 		bl	USART1_Send_String
 1513              	.LVL98:
 418:core/src/usart.c ****     
 419:core/src/usart.c ****     /* Get clock information */
 420:core/src/usart.c ****     RCC_Clocks_Frequencies_Value_Get(&clocks);
 1514              		.loc 1 420 5 view .LVU315
 1515 000a 6846     		mov	r0, sp
 1516 000c FFF7FEFF 		bl	RCC_Clocks_Frequencies_Value_Get
 1517              	.LVL99:
 421:core/src/usart.c ****     
ARM GAS  C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s 			page 37


 422:core/src/usart.c ****     USART1_Printf("System Clock: %u Hz\r\n", clocks.SysclkFreq);
 1518              		.loc 1 422 5 view .LVU316
 1519 0010 0099     		ldr	r1, [sp]
 1520 0012 1D48     		ldr	r0, .L126+4
 1521 0014 FFF7FEFF 		bl	USART1_Printf
 1522              	.LVL100:
 423:core/src/usart.c ****     USART1_Printf("AHB Clock: %u Hz\r\n", clocks.HclkFreq);
 1523              		.loc 1 423 5 view .LVU317
 1524 0018 0199     		ldr	r1, [sp, #4]
 1525 001a 1C48     		ldr	r0, .L126+8
 1526 001c FFF7FEFF 		bl	USART1_Printf
 1527              	.LVL101:
 424:core/src/usart.c ****     USART1_Printf("APB1 Clock: %u Hz\r\n", clocks.Pclk1Freq);
 1528              		.loc 1 424 5 view .LVU318
 1529 0020 0299     		ldr	r1, [sp, #8]
 1530 0022 1B48     		ldr	r0, .L126+12
 1531 0024 FFF7FEFF 		bl	USART1_Printf
 1532              	.LVL102:
 425:core/src/usart.c ****     USART1_Printf("APB2 Clock: %u Hz\r\n", clocks.Pclk2Freq);
 1533              		.loc 1 425 5 view .LVU319
 1534 0028 0399     		ldr	r1, [sp, #12]
 1535 002a 1A48     		ldr	r0, .L126+16
 1536 002c FFF7FEFF 		bl	USART1_Printf
 1537              	.LVL103:
 426:core/src/usart.c ****     
 427:core/src/usart.c ****     USART1_Printf("USART1 Baudrate: %u\r\n", USART1_BAUDRATE);
 1538              		.loc 1 427 5 view .LVU320
 1539 0030 4FF4E131 		mov	r1, #115200
 1540 0034 1848     		ldr	r0, .L126+20
 1541 0036 FFF7FEFF 		bl	USART1_Printf
 1542              	.LVL104:
 428:core/src/usart.c ****     USART1_Printf("Timer Initialized: %s\r\n", Timer_Is_Initialized() ? "Yes" : "No");
 1543              		.loc 1 428 5 view .LVU321
 1544              		.loc 1 428 48 is_stmt 0 view .LVU322
 1545 003a FFF7FEFF 		bl	Timer_Is_Initialized
 1546              	.LVL105:
 1547              		.loc 1 428 5 discriminator 1 view .LVU323
 1548 003e E8B1     		cbz	r0, .L123
 1549 0040 1649     		ldr	r1, .L126+24
 1550              	.L121:
 1551              		.loc 1 428 5 discriminator 4 view .LVU324
 1552 0042 1748     		ldr	r0, .L126+28
 1553 0044 FFF7FEFF 		bl	USART1_Printf
 1554              	.LVL106:
 429:core/src/usart.c ****     USART1_Printf("USART1 Initialized: %s\r\n", USART1_Is_Initialized() ? "Yes" : "No");
 1555              		.loc 1 429 5 is_stmt 1 view .LVU325
 1556              		.loc 1 429 49 is_stmt 0 view .LVU326
 1557 0048 FFF7FEFF 		bl	USART1_Is_Initialized
 1558              	.LVL107:
 1559              		.loc 1 429 5 discriminator 1 view .LVU327
 1560 004c C0B1     		cbz	r0, .L124
 1561 004e 1349     		ldr	r1, .L126+24
 1562              	.L122:
 1563              		.loc 1 429 5 discriminator 4 view .LVU328
 1564 0050 1448     		ldr	r0, .L126+32
 1565 0052 FFF7FEFF 		bl	USART1_Printf
 1566              	.LVL108:
ARM GAS  C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s 			page 38


 430:core/src/usart.c ****     
 431:core/src/usart.c ****     uint32_t tick_count = Get_Tick_Count();
 1567              		.loc 1 431 5 is_stmt 1 view .LVU329
 1568              		.loc 1 431 27 is_stmt 0 view .LVU330
 1569 0056 FFF7FEFF 		bl	Get_Tick_Count
 1570              	.LVL109:
 1571 005a 0446     		mov	r4, r0
 1572              	.LVL110:
 432:core/src/usart.c ****     USART1_Printf("System Uptime: %u us\r\n", tick_count);
 1573              		.loc 1 432 5 is_stmt 1 view .LVU331
 1574 005c 0146     		mov	r1, r0
 1575 005e 1248     		ldr	r0, .L126+36
 1576              	.LVL111:
 1577              		.loc 1 432 5 is_stmt 0 view .LVU332
 1578 0060 FFF7FEFF 		bl	USART1_Printf
 1579              	.LVL112:
 433:core/src/usart.c ****     USART1_Printf("System Uptime: %u ms\r\n", tick_count / 1000);
 1580              		.loc 1 433 5 is_stmt 1 view .LVU333
 1581 0064 114B     		ldr	r3, .L126+40
 1582 0066 A3FB0431 		umull	r3, r1, r3, r4
 1583 006a 8909     		lsrs	r1, r1, #6
 1584 006c 1048     		ldr	r0, .L126+44
 1585 006e FFF7FEFF 		bl	USART1_Printf
 1586              	.LVL113:
 434:core/src/usart.c ****     
 435:core/src/usart.c ****     USART1_Send_String("=== Information Complete ===\r\n\r\n");
 1587              		.loc 1 435 5 view .LVU334
 1588 0072 1048     		ldr	r0, .L126+48
 1589 0074 FFF7FEFF 		bl	USART1_Send_String
 1590              	.LVL114:
 436:core/src/usart.c **** }
 1591              		.loc 1 436 1 is_stmt 0 view .LVU335
 1592 0078 06B0     		add	sp, sp, #24
 1593              	.LCFI35:
 1594              		.cfi_remember_state
 1595              		.cfi_def_cfa_offset 8
 1596              		@ sp needed
 1597 007a 10BD     		pop	{r4, pc}
 1598              	.LVL115:
 1599              	.L123:
 1600              	.LCFI36:
 1601              		.cfi_restore_state
 428:core/src/usart.c ****     USART1_Printf("USART1 Initialized: %s\r\n", USART1_Is_Initialized() ? "Yes" : "No");
 1602              		.loc 1 428 5 discriminator 2 view .LVU336
 1603 007c 0E49     		ldr	r1, .L126+52
 1604 007e E0E7     		b	.L121
 1605              	.L124:
 429:core/src/usart.c ****     
 1606              		.loc 1 429 5 discriminator 2 view .LVU337
 1607 0080 0D49     		ldr	r1, .L126+52
 1608 0082 E5E7     		b	.L122
 1609              	.L127:
 1610              		.align	2
 1611              	.L126:
 1612 0084 08000000 		.word	.LC15
 1613 0088 40000000 		.word	.LC5
 1614 008c 30000000 		.word	.LC16
ARM GAS  C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s 			page 39


 1615 0090 44000000 		.word	.LC17
 1616 0094 58000000 		.word	.LC18
 1617 0098 6C000000 		.word	.LC19
 1618 009c 00000000 		.word	.LC13
 1619 00a0 84000000 		.word	.LC20
 1620 00a4 9C000000 		.word	.LC21
 1621 00a8 B8000000 		.word	.LC22
 1622 00ac D34D6210 		.word	274877907
 1623 00b0 D0000000 		.word	.LC23
 1624 00b4 E8000000 		.word	.LC24
 1625 00b8 04000000 		.word	.LC14
 1626              		.cfi_endproc
 1627              	.LFE147:
 1629              		.section	.text.__io_putchar,"ax",%progbits
 1630              		.align	1
 1631              		.global	__io_putchar
 1632              		.syntax unified
 1633              		.thumb
 1634              		.thumb_func
 1636              	__io_putchar:
 1637              	.LVL116:
 1638              	.LFB148:
 437:core/src/usart.c **** 
 438:core/src/usart.c **** /* Printf redirection to USART1 */
 439:core/src/usart.c **** int __io_putchar(int ch)
 440:core/src/usart.c **** {
 1639              		.loc 1 440 1 is_stmt 1 view -0
 1640              		.cfi_startproc
 1641              		@ args = 0, pretend = 0, frame = 0
 1642              		@ frame_needed = 0, uses_anonymous_args = 0
 1643              		.loc 1 440 1 is_stmt 0 view .LVU339
 1644 0000 10B5     		push	{r4, lr}
 1645              	.LCFI37:
 1646              		.cfi_def_cfa_offset 8
 1647              		.cfi_offset 4, -8
 1648              		.cfi_offset 14, -4
 1649 0002 0446     		mov	r4, r0
 441:core/src/usart.c ****     if (usart1_initialized)
 1650              		.loc 1 441 5 is_stmt 1 view .LVU340
 1651              		.loc 1 441 9 is_stmt 0 view .LVU341
 1652 0004 044B     		ldr	r3, .L132
 1653 0006 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1654              		.loc 1 441 8 view .LVU342
 1655 0008 0BB9     		cbnz	r3, .L131
 1656              	.LVL117:
 1657              	.L129:
 442:core/src/usart.c ****     {
 443:core/src/usart.c ****         USART1_Send_Char((char)ch);
 444:core/src/usart.c ****     }
 445:core/src/usart.c ****     return ch;
 1658              		.loc 1 445 5 is_stmt 1 view .LVU343
 446:core/src/usart.c **** }
 1659              		.loc 1 446 1 is_stmt 0 view .LVU344
 1660 000a 2046     		mov	r0, r4
 1661 000c 10BD     		pop	{r4, pc}
 1662              	.LVL118:
 1663              	.L131:
ARM GAS  C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s 			page 40


 443:core/src/usart.c ****     }
 1664              		.loc 1 443 9 is_stmt 1 view .LVU345
 1665 000e C0B2     		uxtb	r0, r0
 1666              	.LVL119:
 443:core/src/usart.c ****     }
 1667              		.loc 1 443 9 is_stmt 0 view .LVU346
 1668 0010 FFF7FEFF 		bl	USART1_Send_Char
 1669              	.LVL120:
 1670 0014 F9E7     		b	.L129
 1671              	.L133:
 1672 0016 00BF     		.align	2
 1673              	.L132:
 1674 0018 00000000 		.word	usart1_initialized
 1675              		.cfi_endproc
 1676              	.LFE148:
 1678              		.section	.text.__io_getchar,"ax",%progbits
 1679              		.align	1
 1680              		.global	__io_getchar
 1681              		.syntax unified
 1682              		.thumb
 1683              		.thumb_func
 1685              	__io_getchar:
 1686              	.LFB149:
 447:core/src/usart.c **** 
 448:core/src/usart.c **** int __io_getchar(void)
 449:core/src/usart.c **** {
 1687              		.loc 1 449 1 is_stmt 1 view -0
 1688              		.cfi_startproc
 1689              		@ args = 0, pretend = 0, frame = 0
 1690              		@ frame_needed = 0, uses_anonymous_args = 0
 1691 0000 08B5     		push	{r3, lr}
 1692              	.LCFI38:
 1693              		.cfi_def_cfa_offset 8
 1694              		.cfi_offset 3, -8
 1695              		.cfi_offset 14, -4
 450:core/src/usart.c ****     if (usart1_initialized)
 1696              		.loc 1 450 5 view .LVU348
 1697              		.loc 1 450 9 is_stmt 0 view .LVU349
 1698 0002 044B     		ldr	r3, .L139
 1699 0004 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1700              		.loc 1 450 8 view .LVU350
 1701 0006 0BB9     		cbnz	r3, .L138
 451:core/src/usart.c ****     {
 452:core/src/usart.c ****         return (int)USART1_Receive_Char();
 453:core/src/usart.c ****     }
 454:core/src/usart.c ****     return 0;
 1702              		.loc 1 454 12 view .LVU351
 1703 0008 0020     		movs	r0, #0
 1704              	.L134:
 455:core/src/usart.c **** } ...
 1705              		.loc 1 455 1 view .LVU352
 1706 000a 08BD     		pop	{r3, pc}
 1707              	.L138:
 452:core/src/usart.c ****         return (int)USART1_Receive_Char();
 1708              		.loc 1 452 9 is_stmt 1 view .LVU353
 452:core/src/usart.c ****         return (int)USART1_Receive_Char();
 1709              		.loc 1 452 21 is_stmt 0 view .LVU354
ARM GAS  C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s 			page 41


 1710 000c FFF7FEFF 		bl	USART1_Receive_Char
 1711              	.LVL121:
 452:core/src/usart.c ****         return (int)USART1_Receive_Char();
 1712              		.loc 1 452 16 view .LVU355
 1713 0010 FBE7     		b	.L134
 1714              	.L140:
 1715 0012 00BF     		.align	2
 1716              	.L139:
 1717 0014 00000000 		.word	usart1_initialized
 1718              		.cfi_endproc
 1719              	.LFE149:
 1721              		.section	.bss.rx_count,"aw",%nobits
 1722              		.align	1
 1725              	rx_count:
 1726 0000 0000     		.space	2
 1727              		.section	.bss.rx_read_index,"aw",%nobits
 1728              		.align	1
 1731              	rx_read_index:
 1732 0000 0000     		.space	2
 1733              		.section	.bss.rx_write_index,"aw",%nobits
 1734              		.align	1
 1737              	rx_write_index:
 1738 0000 0000     		.space	2
 1739              		.section	.bss.rx_buffer,"aw",%nobits
 1740              		.align	2
 1743              	rx_buffer:
 1744 0000 00000000 		.space	256
 1744      00000000 
 1744      00000000 
 1744      00000000 
 1744      00000000 
 1745              		.section	.bss.tx_buffer,"aw",%nobits
 1746              		.align	2
 1749              	tx_buffer:
 1750 0000 00000000 		.space	256
 1750      00000000 
 1750      00000000 
 1750      00000000 
 1750      00000000 
 1751              		.section	.bss.usart1_initialized,"aw",%nobits
 1754              	usart1_initialized:
 1755 0000 00       		.space	1
 1756              		.text
 1757              	.Letext0:
 1758              		.file 2 "D:/Tools/arm-gnu-toolchain/arm-none-eabi/include/machine/_default_types.h"
 1759              		.file 3 "D:/Tools/arm-gnu-toolchain/arm-none-eabi/include/sys/_stdint.h"
 1760              		.file 4 "CMSIS/device/n32g430.h"
 1761              		.file 5 "n32g430_std_periph_driver/inc/n32g430_gpio.h"
 1762              		.file 6 "n32g430_std_periph_driver/inc/n32g430_rcc.h"
 1763              		.file 7 "n32g430_std_periph_driver/inc/n32g430_usart.h"
 1764              		.file 8 "n32g430_std_periph_driver/inc/misc.h"
 1765              		.file 9 "D:/Tools/arm-gnu-toolchain/lib/gcc/arm-none-eabi/14.2.1/include/stdarg.h"
 1766              		.file 10 "D:/Tools/arm-gnu-toolchain/arm-none-eabi/include/stdio.h"
 1767              		.file 11 "core/inc/timer.h"
 1768              		.file 12 "D:/Tools/arm-gnu-toolchain/arm-none-eabi/include/string.h"
 1769              		.file 13 "<built-in>"
ARM GAS  C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s 			page 42


DEFINED SYMBOLS
                            *ABS*:00000000 usart.c
C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:17     .text.USART1_Init:00000000 $t
C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:23     .text.USART1_Init:00000000 USART1_Init
C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:191    .text.USART1_Init:000000bc $d
C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:1743   .bss.rx_buffer:00000000 rx_buffer
C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:1737   .bss.rx_write_index:00000000 rx_write_index
C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:1731   .bss.rx_read_index:00000000 rx_read_index
C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:1725   .bss.rx_count:00000000 rx_count
C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:1754   .bss.usart1_initialized:00000000 usart1_initialized
C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:202    .text.USART1_DeInit:00000000 $t
C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:208    .text.USART1_DeInit:00000000 USART1_DeInit
C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:233    .text.USART1_DeInit:00000010 $d
C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:239    .text.USART1_Send_Char:00000000 $t
C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:245    .text.USART1_Send_Char:00000000 USART1_Send_Char
C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:300    .text.USART1_Send_Char:0000002c $d
C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:306    .text.USART1_Send_String:00000000 $t
C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:312    .text.USART1_Send_String:00000000 USART1_Send_String
C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:352    .text.USART1_Send_Data:00000000 $t
C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:358    .text.USART1_Send_Data:00000000 USART1_Send_Data
C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:420    .text.USART1_Receive_Char:00000000 $t
C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:426    .text.USART1_Receive_Char:00000000 USART1_Receive_Char
C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:466    .text.USART1_Receive_Char:00000020 $d
C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:472    .text.USART1_Receive_String:00000000 $t
C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:478    .text.USART1_Receive_String:00000000 USART1_Receive_String
C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:615    .text.USART1_Receive_String:0000007c $d
C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:620    .text.USART1_Printf:00000000 $t
C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:626    .text.USART1_Printf:00000000 USART1_Printf
C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:703    .text.USART1_Printf:00000030 $d
C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:1749   .bss.tx_buffer:00000000 tx_buffer
C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:708    .rodata.USART1_Send_Hex.str1.4:00000000 $d
C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:712    .text.USART1_Send_Hex:00000000 $t
C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:718    .text.USART1_Send_Hex:00000000 USART1_Send_Hex
C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:743    .text.USART1_Send_Hex:0000000c $d
C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:748    .rodata.USART1_Send_Dec.str1.4:00000000 $d
C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:752    .text.USART1_Send_Dec:00000000 $t
C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:758    .text.USART1_Send_Dec:00000000 USART1_Send_Dec
C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:783    .text.USART1_Send_Dec:0000000c $d
C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:788    .rodata.USART1_Send_Float.str1.4:00000000 $d
C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:792    .text.USART1_Send_Float:00000000 $t
C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:798    .text.USART1_Send_Float:00000000 USART1_Send_Float
C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:848    .text.USART1_Send_Float:00000028 $d
C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:853    .text.USART1_Is_TX_Ready:00000000 $t
C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:859    .text.USART1_Is_TX_Ready:00000000 USART1_Is_TX_Ready
C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:895    .text.USART1_Is_TX_Ready:0000001c $d
C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:901    .text.USART1_Is_RX_Ready:00000000 $t
C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:907    .text.USART1_Is_RX_Ready:00000000 USART1_Is_RX_Ready
C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:943    .text.USART1_Is_RX_Ready:0000001c $d
C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:949    .text.USART1_Is_Initialized:00000000 $t
C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:955    .text.USART1_Is_Initialized:00000000 USART1_Is_Initialized
C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:970    .text.USART1_Is_Initialized:00000008 $d
C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:975    .text.USART1_IT_Enable:00000000 $t
C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:981    .text.USART1_IT_Enable:00000000 USART1_IT_Enable
C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:1002   .text.USART1_IT_Enable:00000010 $d
C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:1007   .text.USART1_IT_Disable:00000000 $t
C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:1013   .text.USART1_IT_Disable:00000000 USART1_IT_Disable
C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:1034   .text.USART1_IT_Disable:00000010 $d
ARM GAS  C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s 			page 43


C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:1039   .text.USART1_Get_RX_Buffer_Count:00000000 $t
C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:1045   .text.USART1_Get_RX_Buffer_Count:00000000 USART1_Get_RX_Buffer_Count
C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:1062   .text.USART1_Get_RX_Buffer_Count:00000008 $d
C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:1067   .text.USART1_Read_RX_Buffer:00000000 $t
C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:1073   .text.USART1_Read_RX_Buffer:00000000 USART1_Read_RX_Buffer
C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:1173   .text.USART1_Read_RX_Buffer:0000005c $d
C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:1180   .text.USART1_IRQHandler:00000000 $t
C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:1186   .text.USART1_IRQHandler:00000000 USART1_IRQHandler
C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:1270   .text.USART1_IRQHandler:00000058 $d
C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:1278   .rodata.USART1_Test_Communication.str1.4:00000000 $d
C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:1294   .text.USART1_Test_Communication:00000000 $t
C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:1300   .text.USART1_Test_Communication:00000000 USART1_Test_Communication
C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:1344   .text.USART1_Test_Communication:00000030 $d
C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:1353   .rodata.USART1_Test_Echo.str1.4:00000000 $d
C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:1369   .text.USART1_Test_Echo:00000000 $t
C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:1375   .text.USART1_Test_Echo:00000000 USART1_Test_Echo
C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:1443   .text.USART1_Test_Echo:00000040 $d
C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:1452   .rodata.USART1_Test_Send_Info.str1.4:00000000 $d
C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:1489   .text.USART1_Test_Send_Info:00000000 $t
C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:1495   .text.USART1_Test_Send_Info:00000000 USART1_Test_Send_Info
C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:1612   .text.USART1_Test_Send_Info:00000084 $d
C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:1630   .text.__io_putchar:00000000 $t
C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:1636   .text.__io_putchar:00000000 __io_putchar
C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:1674   .text.__io_putchar:00000018 $d
C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:1679   .text.__io_getchar:00000000 $t
C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:1685   .text.__io_getchar:00000000 __io_getchar
C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:1717   .text.__io_getchar:00000014 $d
C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:1722   .bss.rx_count:00000000 $d
C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:1728   .bss.rx_read_index:00000000 $d
C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:1734   .bss.rx_write_index:00000000 $d
C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:1740   .bss.rx_buffer:00000000 $d
C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:1746   .bss.tx_buffer:00000000 $d
C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s:1755   .bss.usart1_initialized:00000000 $d

UNDEFINED SYMBOLS
RCC_AHB_Peripheral_Clock_Enable
RCC_APB2_Peripheral_Clock_Enable
GPIO_Peripheral_Initialize
USART_Initializes
NVIC_Initializes
USART_Interrput_Enable
USART_Enable
memset
USART_Disable
USART_Flag_Status_Get
USART_Data_Send
USART_Data_Receive
Get_Tick_Count
Delay_us
vsnprintf
snprintf
__aeabi_f2d
USART_Interrput_Disable
USART_Interrupt_Status_Get
USART_Interrupt_Status_Clear
Timer_Get_System_Clock_Hz
strcmp
ARM GAS  C:\Users\Dawn\AppData\Local\Temp\ccNG65Lb.s 			page 44


RCC_Clocks_Frequencies_Value_Get
Timer_Is_Initialized
