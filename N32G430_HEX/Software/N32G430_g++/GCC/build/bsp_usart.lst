ARM GAS  C:\Users\Dawn\AppData\Local\Temp\ccxhx5T7.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 4
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"bsp_usart.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "../core/src/bsp_usart.c"
  20              		.section	.text.USART1_Init,"ax",%progbits
  21              		.align	1
  22              		.global	USART1_Init
  23              		.syntax unified
  24              		.thumb
  25              		.thumb_func
  27              	USART1_Init:
  28              	.LFB130:
   1:../core/src/bsp_usart.c **** /**
   2:../core/src/bsp_usart.c ****  * @file bsp_usart.c
   3:../core/src/bsp_usart.c ****  * @author brookdawn
   4:../core/src/bsp_usart.c ****  * @brief 串口初始化
   5:../core/src/bsp_usart.c ****  * @version 0.1
   6:../core/src/bsp_usart.c ****  * @date 2025-07-06
   7:../core/src/bsp_usart.c ****  * @copyright Copyright (c) 2025
   8:../core/src/bsp_usart.c ****  */
   9:../core/src/bsp_usart.c **** 
  10:../core/src/bsp_usart.c **** #include "n32g430.h"
  11:../core/src/bsp_usart.c **** #include "bsp_usart.h"
  12:../core/src/bsp_usart.c **** #include "bsp_delay.h"
  13:../core/src/bsp_usart.c **** 
  14:../core/src/bsp_usart.c **** /* 接收缓冲区 */
  15:../core/src/bsp_usart.c **** static uint8_t usart1_rx_buffer[USART1_RX_BUFFER_SIZE];
  16:../core/src/bsp_usart.c **** static uint16_t rx_head = 0;
  17:../core/src/bsp_usart.c **** static uint16_t rx_tail = 0;
  18:../core/src/bsp_usart.c **** static uint16_t rx_count = 0;
  19:../core/src/bsp_usart.c **** 
  20:../core/src/bsp_usart.c **** /**
  21:../core/src/bsp_usart.c ****  *\*\name   USART1_Init.
  22:../core/src/bsp_usart.c ****  *\*\fun    Initialize USART1.
  23:../core/src/bsp_usart.c ****  *\*\param  none.
  24:../core/src/bsp_usart.c ****  *\*\return none.
  25:../core/src/bsp_usart.c **** **/
  26:../core/src/bsp_usart.c **** void USART1_Init(void)
  27:../core/src/bsp_usart.c **** {
  29              		.loc 1 27 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 48
ARM GAS  C:\Users\Dawn\AppData\Local\Temp\ccxhx5T7.s 			page 2


  32              		@ frame_needed = 0, uses_anonymous_args = 0
  28:../core/src/bsp_usart.c ****     GPIO_InitType GPIO_InitStructure;
  33              		.loc 1 28 5 view .LVU1
  29:../core/src/bsp_usart.c ****     USART_InitType USART_InitStructure;
  34              		.loc 1 29 5 view .LVU2
  30:../core/src/bsp_usart.c ****     NVIC_InitType NVIC_InitStructure;
  35              		.loc 1 30 5 view .LVU3
  31:../core/src/bsp_usart.c **** 
  32:../core/src/bsp_usart.c ****     /* 使能GPIOA和USART1时钟 */
  33:../core/src/bsp_usart.c ****     RCC_AHB_Peripheral_Clock_Enable(USART1_GPIO_CLK);
  36              		.loc 1 33 5 view .LVU4
  27:../core/src/bsp_usart.c ****     GPIO_InitType GPIO_InitStructure;
  37              		.loc 1 27 1 is_stmt 0 view .LVU5
  38 0000 70B5     		push	{r4, r5, r6, lr}
  39              	.LCFI0:
  40              		.cfi_def_cfa_offset 16
  41              		.cfi_offset 4, -16
  42              		.cfi_offset 5, -12
  43              		.cfi_offset 6, -8
  44              		.cfi_offset 14, -4
  45              		.loc 1 33 5 view .LVU6
  46 0002 8020     		movs	r0, #128
  27:../core/src/bsp_usart.c ****     GPIO_InitType GPIO_InitStructure;
  47              		.loc 1 27 1 view .LVU7
  48 0004 8CB0     		sub	sp, sp, #48
  49              	.LCFI1:
  50              		.cfi_def_cfa_offset 64
  51              		.loc 1 33 5 view .LVU8
  52 0006 FFF7FEFF 		bl	RCC_AHB_Peripheral_Clock_Enable
  53              	.LVL0:
  34:../core/src/bsp_usart.c ****     RCC_APB2_Peripheral_Clock_Enable(USART1_CLK);
  54              		.loc 1 34 5 is_stmt 1 view .LVU9
  55 000a 4FF48040 		mov	r0, #16384
  56 000e FFF7FEFF 		bl	RCC_APB2_Peripheral_Clock_Enable
  57              	.LVL1:
  35:../core/src/bsp_usart.c **** 
  36:../core/src/bsp_usart.c ****     /* 配置USART1 TX引脚 (PA9) */
  37:../core/src/bsp_usart.c ****     GPIO_InitStructure.Pin              = USART1_TX_PIN;
  58              		.loc 1 37 5 view .LVU10
  38:../core/src/bsp_usart.c ****     GPIO_InitStructure.GPIO_Mode        = GPIO_MODE_AF_PP;
  39:../core/src/bsp_usart.c ****     GPIO_InitStructure.GPIO_Pull        = GPIO_NO_PULL;
  59              		.loc 1 39 41 is_stmt 0 view .LVU11
  60 0012 0024     		movs	r4, #0
  38:../core/src/bsp_usart.c ****     GPIO_InitStructure.GPIO_Mode        = GPIO_MODE_AF_PP;
  61              		.loc 1 38 41 view .LVU12
  62 0014 4FF40072 		mov	r2, #512
  63 0018 0223     		movs	r3, #2
  40:../core/src/bsp_usart.c ****     GPIO_InitStructure.GPIO_Slew_Rate   = GPIO_SLEW_RATE_FAST;
  41:../core/src/bsp_usart.c ****     GPIO_InitStructure.GPIO_Current     = GPIO_DS_8MA;
  42:../core/src/bsp_usart.c ****     GPIO_InitStructure.GPIO_Alternate   = GPIO_AF5_USART1;
  64              		.loc 1 42 41 view .LVU13
  65 001a 0126     		movs	r6, #1
  66 001c 0525     		movs	r5, #5
  43:../core/src/bsp_usart.c ****     GPIO_Peripheral_Initialize(USART1_GPIO_PORT, &GPIO_InitStructure);
  67              		.loc 1 43 5 view .LVU14
  68 001e 06A9     		add	r1, sp, #24
  69 0020 1B48     		ldr	r0, .L2
ARM GAS  C:\Users\Dawn\AppData\Local\Temp\ccxhx5T7.s 			page 3


  38:../core/src/bsp_usart.c ****     GPIO_InitStructure.GPIO_Mode        = GPIO_MODE_AF_PP;
  70              		.loc 1 38 41 view .LVU15
  71 0022 CDE90623 		strd	r2, r3, [sp, #24]
  39:../core/src/bsp_usart.c ****     GPIO_InitStructure.GPIO_Slew_Rate   = GPIO_SLEW_RATE_FAST;
  72              		.loc 1 39 5 is_stmt 1 view .LVU16
  40:../core/src/bsp_usart.c ****     GPIO_InitStructure.GPIO_Slew_Rate   = GPIO_SLEW_RATE_FAST;
  73              		.loc 1 40 41 is_stmt 0 view .LVU17
  74 0026 CDE90844 		strd	r4, r4, [sp, #32]
  41:../core/src/bsp_usart.c ****     GPIO_InitStructure.GPIO_Alternate   = GPIO_AF5_USART1;
  75              		.loc 1 41 5 is_stmt 1 view .LVU18
  42:../core/src/bsp_usart.c ****     GPIO_Peripheral_Initialize(USART1_GPIO_PORT, &GPIO_InitStructure);
  76              		.loc 1 42 41 is_stmt 0 view .LVU19
  77 002a CDE90A65 		strd	r6, r5, [sp, #40]
  78              		.loc 1 43 5 is_stmt 1 view .LVU20
  79 002e FFF7FEFF 		bl	GPIO_Peripheral_Initialize
  80              	.LVL2:
  44:../core/src/bsp_usart.c **** 
  45:../core/src/bsp_usart.c ****     /* 配置USART1 RX引脚 (PA10) */
  46:../core/src/bsp_usart.c ****     GPIO_InitStructure.Pin              = USART1_RX_PIN;
  81              		.loc 1 46 5 view .LVU21
  82              		.loc 1 46 41 is_stmt 0 view .LVU22
  83 0032 4FF48063 		mov	r3, #1024
  47:../core/src/bsp_usart.c ****     GPIO_InitStructure.GPIO_Mode        = GPIO_MODE_INPUT;
  48:../core/src/bsp_usart.c ****     GPIO_InitStructure.GPIO_Pull        = GPIO_NO_PULL;
  49:../core/src/bsp_usart.c ****     GPIO_InitStructure.GPIO_Slew_Rate   = GPIO_SLEW_RATE_FAST;
  50:../core/src/bsp_usart.c ****     GPIO_InitStructure.GPIO_Current     = GPIO_DS_8MA;
  51:../core/src/bsp_usart.c ****     GPIO_InitStructure.GPIO_Alternate   = GPIO_AF5_USART1;
  52:../core/src/bsp_usart.c ****     GPIO_Peripheral_Initialize(USART1_GPIO_PORT, &GPIO_InitStructure);
  84              		.loc 1 52 5 view .LVU23
  85 0036 06A9     		add	r1, sp, #24
  86 0038 1548     		ldr	r0, .L2
  47:../core/src/bsp_usart.c ****     GPIO_InitStructure.GPIO_Mode        = GPIO_MODE_INPUT;
  87              		.loc 1 47 41 view .LVU24
  88 003a CDE90634 		strd	r3, r4, [sp, #24]
  48:../core/src/bsp_usart.c ****     GPIO_InitStructure.GPIO_Slew_Rate   = GPIO_SLEW_RATE_FAST;
  89              		.loc 1 48 5 is_stmt 1 view .LVU25
  49:../core/src/bsp_usart.c ****     GPIO_InitStructure.GPIO_Current     = GPIO_DS_8MA;
  90              		.loc 1 49 41 is_stmt 0 view .LVU26
  91 003e CDE90844 		strd	r4, r4, [sp, #32]
  50:../core/src/bsp_usart.c ****     GPIO_InitStructure.GPIO_Alternate   = GPIO_AF5_USART1;
  92              		.loc 1 50 5 is_stmt 1 view .LVU27
  51:../core/src/bsp_usart.c ****     GPIO_Peripheral_Initialize(USART1_GPIO_PORT, &GPIO_InitStructure);
  93              		.loc 1 51 41 is_stmt 0 view .LVU28
  94 0042 CDE90A65 		strd	r6, r5, [sp, #40]
  95              		.loc 1 52 5 is_stmt 1 view .LVU29
  96 0046 FFF7FEFF 		bl	GPIO_Peripheral_Initialize
  97              	.LVL3:
  53:../core/src/bsp_usart.c **** 
  54:../core/src/bsp_usart.c ****     /* USART1配置 */
  55:../core/src/bsp_usart.c ****     USART_InitStructure.BaudRate        = USART1_BAUDRATE;
  98              		.loc 1 55 5 view .LVU30
  56:../core/src/bsp_usart.c ****     USART_InitStructure.WordLength      = USART1_WORDLENGTH;
  99              		.loc 1 56 5 view .LVU31
  57:../core/src/bsp_usart.c ****     USART_InitStructure.StopBits        = USART1_STOPBITS;
 100              		.loc 1 57 5 view .LVU32
  58:../core/src/bsp_usart.c ****     USART_InitStructure.Parity          = USART1_PARITY;
 101              		.loc 1 58 5 view .LVU33
ARM GAS  C:\Users\Dawn\AppData\Local\Temp\ccxhx5T7.s 			page 4


  59:../core/src/bsp_usart.c ****     USART_InitStructure.HardwareFlowControl = USART1_HARDWAREFLOWCTL;
 102              		.loc 1 59 5 view .LVU34
  60:../core/src/bsp_usart.c ****     USART_InitStructure.Mode            = USART1_MODE;
 103              		.loc 1 60 5 view .LVU35
  55:../core/src/bsp_usart.c ****     USART_InitStructure.WordLength      = USART1_WORDLENGTH;
 104              		.loc 1 55 41 is_stmt 0 view .LVU36
 105 004a 4FF4E133 		mov	r3, #115200
  56:../core/src/bsp_usart.c ****     USART_InitStructure.StopBits        = USART1_STOPBITS;
 106              		.loc 1 56 41 view .LVU37
 107 004e CDE90234 		strd	r3, r4, [sp, #8]
  61:../core/src/bsp_usart.c ****     USART_Initializes(USART1, &USART_InitStructure);
 108              		.loc 1 61 5 view .LVU38
 109 0052 02A9     		add	r1, sp, #8
  58:../core/src/bsp_usart.c ****     USART_InitStructure.HardwareFlowControl = USART1_HARDWAREFLOWCTL;
 110              		.loc 1 58 41 view .LVU39
 111 0054 4FF44023 		mov	r3, #786432
 112              		.loc 1 61 5 view .LVU40
 113 0058 0E48     		ldr	r0, .L2+4
  58:../core/src/bsp_usart.c ****     USART_InitStructure.HardwareFlowControl = USART1_HARDWAREFLOWCTL;
 114              		.loc 1 58 41 view .LVU41
 115 005a 0493     		str	r3, [sp, #16]
  59:../core/src/bsp_usart.c ****     USART_InitStructure.Mode            = USART1_MODE;
 116              		.loc 1 59 45 view .LVU42
 117 005c ADF81440 		strh	r4, [sp, #20]	@ movhi
 118              		.loc 1 61 5 is_stmt 1 view .LVU43
 119 0060 FFF7FEFF 		bl	USART_Initializes
 120              	.LVL4:
  62:../core/src/bsp_usart.c **** 
  63:../core/src/bsp_usart.c ****     /* 使能USART1接收中断 */
  64:../core/src/bsp_usart.c ****     USART_Interrput_Enable(USART1, USART_INT_RXDNE);
 121              		.loc 1 64 5 view .LVU44
 122 0064 40F22551 		movw	r1, #1317
 123 0068 0A48     		ldr	r0, .L2+4
 124 006a FFF7FEFF 		bl	USART_Interrput_Enable
 125              	.LVL5:
  65:../core/src/bsp_usart.c **** 
  66:../core/src/bsp_usart.c ****     /* 配置USART1中断优先级 */
  67:../core/src/bsp_usart.c ****     NVIC_InitStructure.NVIC_IRQChannel = USART1_IRQn;
 126              		.loc 1 67 5 view .LVU45
  68:../core/src/bsp_usart.c ****     NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority = 0;
 127              		.loc 1 68 5 view .LVU46
  69:../core/src/bsp_usart.c ****     NVIC_InitStructure.NVIC_IRQChannelSubPriority = 0;
 128              		.loc 1 69 5 view .LVU47
  70:../core/src/bsp_usart.c ****     NVIC_InitStructure.NVIC_IRQChannelCmd = ENABLE;
 129              		.loc 1 70 5 view .LVU48
  67:../core/src/bsp_usart.c ****     NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority = 0;
 130              		.loc 1 67 40 is_stmt 0 view .LVU49
 131 006e 0A4B     		ldr	r3, .L2+8
 132 0070 0193     		str	r3, [sp, #4]
  71:../core/src/bsp_usart.c ****     NVIC_Initializes(&NVIC_InitStructure);
 133              		.loc 1 71 5 is_stmt 1 view .LVU50
 134 0072 01A8     		add	r0, sp, #4
 135 0074 FFF7FEFF 		bl	NVIC_Initializes
 136              	.LVL6:
  72:../core/src/bsp_usart.c **** 
  73:../core/src/bsp_usart.c ****     /* 使能USART1 */
  74:../core/src/bsp_usart.c ****     USART_Enable(USART1);
ARM GAS  C:\Users\Dawn\AppData\Local\Temp\ccxhx5T7.s 			page 5


 137              		.loc 1 74 5 view .LVU51
 138 0078 0648     		ldr	r0, .L2+4
 139 007a FFF7FEFF 		bl	USART_Enable
 140              	.LVL7:
  75:../core/src/bsp_usart.c **** 
  76:../core/src/bsp_usart.c ****     /* 初始化接收缓冲区 */
  77:../core/src/bsp_usart.c ****     rx_head = 0;
 141              		.loc 1 77 5 view .LVU52
 142              		.loc 1 77 13 is_stmt 0 view .LVU53
 143 007e 074B     		ldr	r3, .L2+12
 144 0080 1C80     		strh	r4, [r3]	@ movhi
  78:../core/src/bsp_usart.c ****     rx_tail = 0;
 145              		.loc 1 78 5 is_stmt 1 view .LVU54
 146              		.loc 1 78 13 is_stmt 0 view .LVU55
 147 0082 074B     		ldr	r3, .L2+16
 148 0084 1C80     		strh	r4, [r3]	@ movhi
  79:../core/src/bsp_usart.c ****     rx_count = 0;
 149              		.loc 1 79 5 is_stmt 1 view .LVU56
 150              		.loc 1 79 14 is_stmt 0 view .LVU57
 151 0086 074B     		ldr	r3, .L2+20
 152 0088 1C80     		strh	r4, [r3]	@ movhi
  80:../core/src/bsp_usart.c **** }
 153              		.loc 1 80 1 view .LVU58
 154 008a 0CB0     		add	sp, sp, #48
 155              	.LCFI2:
 156              		.cfi_def_cfa_offset 16
 157              		@ sp needed
 158 008c 70BD     		pop	{r4, r5, r6, pc}
 159              	.L3:
 160 008e 00BF     		.align	2
 161              	.L2:
 162 0090 00340240 		.word	1073886208
 163 0094 00380140 		.word	1073821696
 164 0098 24000001 		.word	16777252
 165 009c 00000000 		.word	rx_head
 166 00a0 00000000 		.word	rx_tail
 167 00a4 00000000 		.word	rx_count
 168              		.cfi_endproc
 169              	.LFE130:
 171              		.section	.text.USART1_SendByte,"ax",%progbits
 172              		.align	1
 173              		.global	USART1_SendByte
 174              		.syntax unified
 175              		.thumb
 176              		.thumb_func
 178              	USART1_SendByte:
 179              	.LVL8:
 180              	.LFB131:
  81:../core/src/bsp_usart.c **** 
  82:../core/src/bsp_usart.c **** /**
  83:../core/src/bsp_usart.c ****  *\*\name   USART1_SendByte.
  84:../core/src/bsp_usart.c ****  *\*\fun    Send one byte via USART1.
  85:../core/src/bsp_usart.c ****  *\*\param  data: byte to send.
  86:../core/src/bsp_usart.c ****  *\*\return none.
  87:../core/src/bsp_usart.c **** **/
  88:../core/src/bsp_usart.c **** void USART1_SendByte(uint8_t data)
  89:../core/src/bsp_usart.c **** {
ARM GAS  C:\Users\Dawn\AppData\Local\Temp\ccxhx5T7.s 			page 6


 181              		.loc 1 89 1 is_stmt 1 view -0
 182              		.cfi_startproc
 183              		@ args = 0, pretend = 0, frame = 0
 184              		@ frame_needed = 0, uses_anonymous_args = 0
 185              		.loc 1 89 1 is_stmt 0 view .LVU60
 186 0000 10B5     		push	{r4, lr}
 187              	.LCFI3:
 188              		.cfi_def_cfa_offset 8
 189              		.cfi_offset 4, -8
 190              		.cfi_offset 14, -4
 191 0002 0446     		mov	r4, r0
  90:../core/src/bsp_usart.c ****     /* 等待发送数据寄存器为空 */
  91:../core/src/bsp_usart.c ****     while(USART_Flag_Status_Get(USART1, USART_FLAG_TXDE) == RESET);
 192              		.loc 1 91 5 is_stmt 1 view .LVU61
 193              	.LVL9:
 194              	.L5:
 195              		.loc 1 91 58 discriminator 1 view .LVU62
 196              		.loc 1 91 11 is_stmt 0 discriminator 1 view .LVU63
 197 0004 0548     		ldr	r0, .L8
 198 0006 8021     		movs	r1, #128
 199 0008 FFF7FEFF 		bl	USART_Flag_Status_Get
 200              	.LVL10:
 201              		.loc 1 91 58 discriminator 1 view .LVU64
 202 000c 0028     		cmp	r0, #0
 203 000e F9D0     		beq	.L5
  92:../core/src/bsp_usart.c **** 
  93:../core/src/bsp_usart.c ****     /* 发送数据 */
  94:../core/src/bsp_usart.c ****     USART_Data_Send(USART1, data);
 204              		.loc 1 94 5 is_stmt 1 view .LVU65
 205 0010 2146     		mov	r1, r4
 206 0012 0248     		ldr	r0, .L8
  95:../core/src/bsp_usart.c **** }
 207              		.loc 1 95 1 is_stmt 0 view .LVU66
 208 0014 BDE81040 		pop	{r4, lr}
 209              	.LCFI4:
 210              		.cfi_restore 14
 211              		.cfi_restore 4
 212              		.cfi_def_cfa_offset 0
 213              	.LVL11:
  94:../core/src/bsp_usart.c **** }
 214              		.loc 1 94 5 view .LVU67
 215 0018 FFF7FEBF 		b	USART_Data_Send
 216              	.LVL12:
 217              	.L9:
  94:../core/src/bsp_usart.c **** }
 218              		.loc 1 94 5 view .LVU68
 219              		.align	2
 220              	.L8:
 221 001c 00380140 		.word	1073821696
 222              		.cfi_endproc
 223              	.LFE131:
 225              		.section	.text.USART1_SendString,"ax",%progbits
 226              		.align	1
 227              		.global	USART1_SendString
 228              		.syntax unified
 229              		.thumb
 230              		.thumb_func
ARM GAS  C:\Users\Dawn\AppData\Local\Temp\ccxhx5T7.s 			page 7


 232              	USART1_SendString:
 233              	.LVL13:
 234              	.LFB132:
  96:../core/src/bsp_usart.c **** 
  97:../core/src/bsp_usart.c **** /**
  98:../core/src/bsp_usart.c ****  *\*\name   USART1_SendString.
  99:../core/src/bsp_usart.c ****  *\*\fun    Send string via USART1.
 100:../core/src/bsp_usart.c ****  *\*\param  str: string to send.
 101:../core/src/bsp_usart.c ****  *\*\return none.
 102:../core/src/bsp_usart.c **** **/
 103:../core/src/bsp_usart.c **** void USART1_SendString(const char* str)
 104:../core/src/bsp_usart.c **** {
 235              		.loc 1 104 1 is_stmt 1 view -0
 236              		.cfi_startproc
 237              		@ args = 0, pretend = 0, frame = 0
 238              		@ frame_needed = 0, uses_anonymous_args = 0
 105:../core/src/bsp_usart.c ****     while(*str)
 239              		.loc 1 105 5 view .LVU70
 104:../core/src/bsp_usart.c ****     while(*str)
 240              		.loc 1 104 1 is_stmt 0 view .LVU71
 241 0000 10B5     		push	{r4, lr}
 242              	.LCFI5:
 243              		.cfi_def_cfa_offset 8
 244              		.cfi_offset 4, -8
 245              		.cfi_offset 14, -4
 246 0002 441E     		subs	r4, r0, #1
 247              	.LVL14:
 248              	.L11:
 249              		.loc 1 105 11 is_stmt 1 view .LVU72
 250 0004 14F8010F 		ldrb	r0, [r4, #1]!	@ zero_extendqisi2
 251              	.LVL15:
 252              		.loc 1 105 11 is_stmt 0 view .LVU73
 253 0008 00B9     		cbnz	r0, .L12
 106:../core/src/bsp_usart.c ****     {
 107:../core/src/bsp_usart.c ****         USART1_SendByte(*str++);
 108:../core/src/bsp_usart.c ****     }
 109:../core/src/bsp_usart.c **** }
 254              		.loc 1 109 1 view .LVU74
 255 000a 10BD     		pop	{r4, pc}
 256              	.LVL16:
 257              	.L12:
 107:../core/src/bsp_usart.c ****     }
 258              		.loc 1 107 9 is_stmt 1 view .LVU75
 107:../core/src/bsp_usart.c ****     }
 259              		.loc 1 107 9 is_stmt 0 view .LVU76
 260 000c FFF7FEFF 		bl	USART1_SendByte
 261              	.LVL17:
 262 0010 F8E7     		b	.L11
 263              		.cfi_endproc
 264              	.LFE132:
 266              		.section	.text.USART1_SendArray,"ax",%progbits
 267              		.align	1
 268              		.global	USART1_SendArray
 269              		.syntax unified
 270              		.thumb
 271              		.thumb_func
 273              	USART1_SendArray:
ARM GAS  C:\Users\Dawn\AppData\Local\Temp\ccxhx5T7.s 			page 8


 274              	.LVL18:
 275              	.LFB133:
 110:../core/src/bsp_usart.c **** 
 111:../core/src/bsp_usart.c **** /**
 112:../core/src/bsp_usart.c ****  *\*\name   USART1_SendArray.
 113:../core/src/bsp_usart.c ****  *\*\fun    Send array via USART1.
 114:../core/src/bsp_usart.c ****  *\*\param  data: array to send.
 115:../core/src/bsp_usart.c ****  *\*\param  length: length of array.
 116:../core/src/bsp_usart.c ****  *\*\return none.
 117:../core/src/bsp_usart.c **** **/
 118:../core/src/bsp_usart.c **** void USART1_SendArray(uint8_t* data, uint16_t length)
 119:../core/src/bsp_usart.c **** {
 276              		.loc 1 119 1 is_stmt 1 view -0
 277              		.cfi_startproc
 278              		@ args = 0, pretend = 0, frame = 0
 279              		@ frame_needed = 0, uses_anonymous_args = 0
 120:../core/src/bsp_usart.c ****     uint16_t i;
 280              		.loc 1 120 5 view .LVU78
 121:../core/src/bsp_usart.c ****     for(i = 0; i < length; i++)
 281              		.loc 1 121 5 view .LVU79
 119:../core/src/bsp_usart.c ****     uint16_t i;
 282              		.loc 1 119 1 is_stmt 0 view .LVU80
 283 0000 38B5     		push	{r3, r4, r5, lr}
 284              	.LCFI6:
 285              		.cfi_def_cfa_offset 16
 286              		.cfi_offset 3, -16
 287              		.cfi_offset 4, -12
 288              		.cfi_offset 5, -8
 289              		.cfi_offset 14, -4
 290 0002 0446     		mov	r4, r0
 291 0004 4518     		adds	r5, r0, r1
 292              	.LVL19:
 293              	.L14:
 294              		.loc 1 121 18 is_stmt 1 discriminator 1 view .LVU81
 295 0006 AC42     		cmp	r4, r5
 296 0008 00D1     		bne	.L15
 122:../core/src/bsp_usart.c ****     {
 123:../core/src/bsp_usart.c ****         USART1_SendByte(data[i]);
 124:../core/src/bsp_usart.c ****     }
 125:../core/src/bsp_usart.c **** }
 297              		.loc 1 125 1 is_stmt 0 view .LVU82
 298 000a 38BD     		pop	{r3, r4, r5, pc}
 299              	.LVL20:
 300              	.L15:
 123:../core/src/bsp_usart.c ****     }
 301              		.loc 1 123 9 is_stmt 1 view .LVU83
 302 000c 14F8010B 		ldrb	r0, [r4], #1	@ zero_extendqisi2
 303              	.LVL21:
 123:../core/src/bsp_usart.c ****     }
 304              		.loc 1 123 9 is_stmt 0 view .LVU84
 305 0010 FFF7FEFF 		bl	USART1_SendByte
 306              	.LVL22:
 121:../core/src/bsp_usart.c ****     {
 307              		.loc 1 121 29 is_stmt 1 discriminator 3 view .LVU85
 308 0014 F7E7     		b	.L14
 309              		.cfi_endproc
 310              	.LFE133:
ARM GAS  C:\Users\Dawn\AppData\Local\Temp\ccxhx5T7.s 			page 9


 312              		.section	.text.USART1_ReceiveByte,"ax",%progbits
 313              		.align	1
 314              		.global	USART1_ReceiveByte
 315              		.syntax unified
 316              		.thumb
 317              		.thumb_func
 319              	USART1_ReceiveByte:
 320              	.LFB134:
 126:../core/src/bsp_usart.c **** 
 127:../core/src/bsp_usart.c **** /**
 128:../core/src/bsp_usart.c ****  *\*\name   USART1_ReceiveByte.
 129:../core/src/bsp_usart.c ****  *\*\fun    Receive one byte from USART1.
 130:../core/src/bsp_usart.c ****  *\*\param  none.
 131:../core/src/bsp_usart.c ****  *\*\return received byte.
 132:../core/src/bsp_usart.c **** **/
 133:../core/src/bsp_usart.c **** uint8_t USART1_ReceiveByte(void)
 134:../core/src/bsp_usart.c **** {
 321              		.loc 1 134 1 view -0
 322              		.cfi_startproc
 323              		@ args = 0, pretend = 0, frame = 0
 324              		@ frame_needed = 0, uses_anonymous_args = 0
 325 0000 08B5     		push	{r3, lr}
 326              	.LCFI7:
 327              		.cfi_def_cfa_offset 8
 328              		.cfi_offset 3, -8
 329              		.cfi_offset 14, -4
 330              	.L17:
 135:../core/src/bsp_usart.c ****     /* 等待接收数据 */
 136:../core/src/bsp_usart.c ****     while(USART_Flag_Status_Get(USART1, USART_FLAG_RXDNE) == RESET);
 331              		.loc 1 136 59 discriminator 1 view .LVU87
 332              		.loc 1 136 11 is_stmt 0 discriminator 1 view .LVU88
 333 0002 0548     		ldr	r0, .L20
 334 0004 2021     		movs	r1, #32
 335 0006 FFF7FEFF 		bl	USART_Flag_Status_Get
 336              	.LVL23:
 337              		.loc 1 136 59 discriminator 1 view .LVU89
 338 000a 0028     		cmp	r0, #0
 339 000c F9D0     		beq	.L17
 137:../core/src/bsp_usart.c **** 
 138:../core/src/bsp_usart.c ****     /* 返回接收到的数据 */
 139:../core/src/bsp_usart.c ****     return (uint8_t)USART_Data_Receive(USART1);
 340              		.loc 1 139 5 is_stmt 1 view .LVU90
 341              		.loc 1 139 21 is_stmt 0 view .LVU91
 342 000e 0248     		ldr	r0, .L20
 343 0010 FFF7FEFF 		bl	USART_Data_Receive
 344              	.LVL24:
 140:../core/src/bsp_usart.c **** }
 345              		.loc 1 140 1 view .LVU92
 346 0014 C0B2     		uxtb	r0, r0
 347 0016 08BD     		pop	{r3, pc}
 348              	.L21:
 349              		.align	2
 350              	.L20:
 351 0018 00380140 		.word	1073821696
 352              		.cfi_endproc
 353              	.LFE134:
 355              		.section	.text.USART1_ReceiveString,"ax",%progbits
ARM GAS  C:\Users\Dawn\AppData\Local\Temp\ccxhx5T7.s 			page 10


 356              		.align	1
 357              		.global	USART1_ReceiveString
 358              		.syntax unified
 359              		.thumb
 360              		.thumb_func
 362              	USART1_ReceiveString:
 363              	.LVL25:
 364              	.LFB135:
 141:../core/src/bsp_usart.c **** 
 142:../core/src/bsp_usart.c **** /**
 143:../core/src/bsp_usart.c ****  *\*\name   USART1_ReceiveString.
 144:../core/src/bsp_usart.c ****  *\*\fun    Receive string from USART1 buffer.
 145:../core/src/bsp_usart.c ****  *\*\param  buffer: buffer to store received string.
 146:../core/src/bsp_usart.c ****  *\*\param  max_length: maximum length of buffer.
 147:../core/src/bsp_usart.c ****  *\*\return actual length of received string.
 148:../core/src/bsp_usart.c **** **/
 149:../core/src/bsp_usart.c **** uint16_t USART1_ReceiveString(char* buffer, uint16_t max_length)
 150:../core/src/bsp_usart.c **** {
 365              		.loc 1 150 1 is_stmt 1 view -0
 366              		.cfi_startproc
 367              		@ args = 0, pretend = 0, frame = 0
 368              		@ frame_needed = 0, uses_anonymous_args = 0
 151:../core/src/bsp_usart.c ****     uint16_t length = 0;
 369              		.loc 1 151 5 view .LVU94
 152:../core/src/bsp_usart.c **** 
 153:../core/src/bsp_usart.c ****     /* 从缓冲区读取数据 */
 154:../core/src/bsp_usart.c ****     while(rx_count > 0 && length < max_length - 1)
 370              		.loc 1 154 5 view .LVU95
 150:../core/src/bsp_usart.c ****     uint16_t length = 0;
 371              		.loc 1 150 1 is_stmt 0 view .LVU96
 372 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 373              	.LCFI8:
 374              		.cfi_def_cfa_offset 24
 375              		.cfi_offset 4, -24
 376              		.cfi_offset 5, -20
 377              		.cfi_offset 6, -16
 378              		.cfi_offset 7, -12
 379              		.cfi_offset 8, -8
 380              		.cfi_offset 14, -4
 381 0004 DFF84CC0 		ldr	ip, .L35+4
 382 0008 DFF84CE0 		ldr	lr, .L35+8
 383 000c BCF80080 		ldrh	r8, [ip]
 384 0010 BEF80030 		ldrh	r3, [lr]
 155:../core/src/bsp_usart.c ****     {
 156:../core/src/bsp_usart.c ****         buffer[length] = usart1_rx_buffer[rx_tail];
 385              		.loc 1 156 42 view .LVU97
 386 0014 0E4D     		ldr	r5, .L35
 154:../core/src/bsp_usart.c ****     {
 387              		.loc 1 154 10 view .LVU98
 388 0016 0026     		movs	r6, #0
 389 0018 0746     		mov	r7, r0
 390 001a 3446     		mov	r4, r6
 154:../core/src/bsp_usart.c ****     {
 391              		.loc 1 154 47 discriminator 1 view .LVU99
 392 001c 0139     		subs	r1, r1, #1
 393              	.LVL26:
 394              	.L23:
ARM GAS  C:\Users\Dawn\AppData\Local\Temp\ccxhx5T7.s 			page 11


 154:../core/src/bsp_usart.c ****     {
 395              		.loc 1 154 47 discriminator 1 view .LVU100
 396 001e B0B2     		uxth	r0, r6
 397 0020 A8EB0002 		sub	r2, r8, r0
 154:../core/src/bsp_usart.c ****     {
 398              		.loc 1 154 24 view .LVU101
 399 0024 B045     		cmp	r8, r6
 400 0026 92B2     		uxth	r2, r2
 401              	.LVL27:
 154:../core/src/bsp_usart.c ****     {
 402              		.loc 1 154 24 is_stmt 1 view .LVU102
 403 0028 08D1     		bne	.L24
 404              	.L34:
 405 002a 1CB1     		cbz	r4, .L26
 406 002c AEF80030 		strh	r3, [lr]	@ movhi
 407 0030 ACF80020 		strh	r2, [ip]	@ movhi
 408              	.L26:
 157:../core/src/bsp_usart.c ****         rx_tail = (rx_tail + 1) % USART1_RX_BUFFER_SIZE;
 158:../core/src/bsp_usart.c ****         rx_count--;
 159:../core/src/bsp_usart.c ****         length++;
 160:../core/src/bsp_usart.c ****     }
 161:../core/src/bsp_usart.c **** 
 162:../core/src/bsp_usart.c ****     buffer[length] = '\0';
 409              		.loc 1 162 5 view .LVU103
 410              		.loc 1 162 20 is_stmt 0 view .LVU104
 411 0034 0023     		movs	r3, #0
 412 0036 3B70     		strb	r3, [r7]
 163:../core/src/bsp_usart.c ****     return length;
 413              		.loc 1 163 5 is_stmt 1 view .LVU105
 164:../core/src/bsp_usart.c **** }
 414              		.loc 1 164 1 is_stmt 0 view .LVU106
 415 0038 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 416              	.L24:
 154:../core/src/bsp_usart.c ****     {
 417              		.loc 1 154 24 discriminator 1 view .LVU107
 418 003c B142     		cmp	r1, r6
 419 003e F4DD     		ble	.L34
 156:../core/src/bsp_usart.c ****         rx_tail = (rx_tail + 1) % USART1_RX_BUFFER_SIZE;
 420              		.loc 1 156 9 is_stmt 1 view .LVU108
 156:../core/src/bsp_usart.c ****         rx_tail = (rx_tail + 1) % USART1_RX_BUFFER_SIZE;
 421              		.loc 1 156 24 is_stmt 0 view .LVU109
 422 0040 EA5C     		ldrb	r2, [r5, r3]	@ zero_extendqisi2
 423 0042 07F8012B 		strb	r2, [r7], #1
 157:../core/src/bsp_usart.c ****         rx_count--;
 424              		.loc 1 157 9 is_stmt 1 view .LVU110
 157:../core/src/bsp_usart.c ****         rx_count--;
 425              		.loc 1 157 28 is_stmt 0 view .LVU111
 426 0046 0133     		adds	r3, r3, #1
 157:../core/src/bsp_usart.c ****         rx_count--;
 427              		.loc 1 157 17 view .LVU112
 428 0048 DBB2     		uxtb	r3, r3
 158:../core/src/bsp_usart.c ****         length++;
 429              		.loc 1 158 9 is_stmt 1 view .LVU113
 159:../core/src/bsp_usart.c ****     }
 430              		.loc 1 159 9 view .LVU114
 431              	.LVL28:
 159:../core/src/bsp_usart.c ****     }
ARM GAS  C:\Users\Dawn\AppData\Local\Temp\ccxhx5T7.s 			page 12


 432              		.loc 1 159 9 is_stmt 0 view .LVU115
 433 004a 0136     		adds	r6, r6, #1
 434              	.LVL29:
 157:../core/src/bsp_usart.c ****         rx_count--;
 435              		.loc 1 157 17 view .LVU116
 436 004c 0124     		movs	r4, #1
 437 004e E6E7     		b	.L23
 438              	.L36:
 439              		.align	2
 440              	.L35:
 441 0050 00000000 		.word	usart1_rx_buffer
 442 0054 00000000 		.word	rx_count
 443 0058 00000000 		.word	rx_tail
 444              		.cfi_endproc
 445              	.LFE135:
 447              		.section	.text.USART1_EnableInterrupt,"ax",%progbits
 448              		.align	1
 449              		.global	USART1_EnableInterrupt
 450              		.syntax unified
 451              		.thumb
 452              		.thumb_func
 454              	USART1_EnableInterrupt:
 455              	.LFB136:
 165:../core/src/bsp_usart.c **** 
 166:../core/src/bsp_usart.c **** /**
 167:../core/src/bsp_usart.c ****  *\*\name   USART1_EnableInterrupt.
 168:../core/src/bsp_usart.c ****  *\*\fun    Enable USART1 interrupt.
 169:../core/src/bsp_usart.c ****  *\*\param  none.
 170:../core/src/bsp_usart.c ****  *\*\return none.
 171:../core/src/bsp_usart.c **** **/
 172:../core/src/bsp_usart.c **** void USART1_EnableInterrupt(void)
 173:../core/src/bsp_usart.c **** {
 456              		.loc 1 173 1 is_stmt 1 view -0
 457              		.cfi_startproc
 458              		@ args = 0, pretend = 0, frame = 0
 459              		@ frame_needed = 0, uses_anonymous_args = 0
 460              		@ link register save eliminated.
 174:../core/src/bsp_usart.c ****     USART_Interrput_Enable(USART1, USART_INT_RXDNE);
 461              		.loc 1 174 5 view .LVU118
 462 0000 0248     		ldr	r0, .L38
 463 0002 40F22551 		movw	r1, #1317
 464 0006 FFF7FEBF 		b	USART_Interrput_Enable
 465              	.LVL30:
 466              	.L39:
 467 000a 00BF     		.align	2
 468              	.L38:
 469 000c 00380140 		.word	1073821696
 470              		.cfi_endproc
 471              	.LFE136:
 473              		.section	.text.USART1_DisableInterrupt,"ax",%progbits
 474              		.align	1
 475              		.global	USART1_DisableInterrupt
 476              		.syntax unified
 477              		.thumb
 478              		.thumb_func
 480              	USART1_DisableInterrupt:
 481              	.LFB137:
ARM GAS  C:\Users\Dawn\AppData\Local\Temp\ccxhx5T7.s 			page 13


 175:../core/src/bsp_usart.c **** }
 176:../core/src/bsp_usart.c **** 
 177:../core/src/bsp_usart.c **** /**
 178:../core/src/bsp_usart.c ****  *\*\name   USART1_DisableInterrupt.
 179:../core/src/bsp_usart.c ****  *\*\fun    Disable USART1 interrupt.
 180:../core/src/bsp_usart.c ****  *\*\param  none.
 181:../core/src/bsp_usart.c ****  *\*\return none.
 182:../core/src/bsp_usart.c **** **/
 183:../core/src/bsp_usart.c **** void USART1_DisableInterrupt(void)
 184:../core/src/bsp_usart.c **** {
 482              		.loc 1 184 1 view -0
 483              		.cfi_startproc
 484              		@ args = 0, pretend = 0, frame = 0
 485              		@ frame_needed = 0, uses_anonymous_args = 0
 486              		@ link register save eliminated.
 185:../core/src/bsp_usart.c ****     USART_Interrput_Disable(USART1, USART_INT_RXDNE);
 487              		.loc 1 185 5 view .LVU120
 488 0000 0248     		ldr	r0, .L41
 489 0002 40F22551 		movw	r1, #1317
 490 0006 FFF7FEBF 		b	USART_Interrput_Disable
 491              	.LVL31:
 492              	.L42:
 493 000a 00BF     		.align	2
 494              	.L41:
 495 000c 00380140 		.word	1073821696
 496              		.cfi_endproc
 497              	.LFE137:
 499              		.section	.text.USART1_IRQHandler,"ax",%progbits
 500              		.align	1
 501              		.global	USART1_IRQHandler
 502              		.syntax unified
 503              		.thumb
 504              		.thumb_func
 506              	USART1_IRQHandler:
 507              	.LFB138:
 186:../core/src/bsp_usart.c **** }
 187:../core/src/bsp_usart.c **** 
 188:../core/src/bsp_usart.c **** /**
 189:../core/src/bsp_usart.c ****  *\*\name   USART1_IRQHandler.
 190:../core/src/bsp_usart.c ****  *\*\fun    USART1 interrupt handler.
 191:../core/src/bsp_usart.c ****  *\*\param  none.
 192:../core/src/bsp_usart.c ****  *\*\return none.
 193:../core/src/bsp_usart.c **** **/
 194:../core/src/bsp_usart.c **** void USART1_IRQHandler(void)
 195:../core/src/bsp_usart.c **** {
 508              		.loc 1 195 1 view -0
 509              		.cfi_startproc
 510              		@ args = 0, pretend = 0, frame = 0
 511              		@ frame_needed = 0, uses_anonymous_args = 0
 196:../core/src/bsp_usart.c ****     if(USART_Interrupt_Status_Get(USART1, USART_INT_RXDNE) != RESET)
 512              		.loc 1 196 5 view .LVU122
 195:../core/src/bsp_usart.c ****     if(USART_Interrupt_Status_Get(USART1, USART_INT_RXDNE) != RESET)
 513              		.loc 1 195 1 is_stmt 0 view .LVU123
 514 0000 10B5     		push	{r4, lr}
 515              	.LCFI9:
 516              		.cfi_def_cfa_offset 8
 517              		.cfi_offset 4, -8
ARM GAS  C:\Users\Dawn\AppData\Local\Temp\ccxhx5T7.s 			page 14


 518              		.cfi_offset 14, -4
 519              		.loc 1 196 8 view .LVU124
 520 0002 1048     		ldr	r0, .L49
 521 0004 40F22551 		movw	r1, #1317
 522 0008 FFF7FEFF 		bl	USART_Interrupt_Status_Get
 523              	.LVL32:
 524              		.loc 1 196 7 discriminator 1 view .LVU125
 525 000c A8B1     		cbz	r0, .L43
 197:../core/src/bsp_usart.c ****     {
 198:../core/src/bsp_usart.c ****         /* 清除中断标志 */
 199:../core/src/bsp_usart.c ****         USART_Interrupt_Status_Clear(USART1, USART_INT_RXDNE);
 526              		.loc 1 199 9 is_stmt 1 view .LVU126
 200:../core/src/bsp_usart.c **** 
 201:../core/src/bsp_usart.c ****         /* 检查缓冲区是否已满 */
 202:../core/src/bsp_usart.c ****         if(rx_count < USART1_RX_BUFFER_SIZE)
 527              		.loc 1 202 21 is_stmt 0 view .LVU127
 528 000e 0E4C     		ldr	r4, .L49+4
 199:../core/src/bsp_usart.c **** 
 529              		.loc 1 199 9 view .LVU128
 530 0010 0C48     		ldr	r0, .L49
 531 0012 40F22551 		movw	r1, #1317
 532 0016 FFF7FEFF 		bl	USART_Interrupt_Status_Clear
 533              	.LVL33:
 534              		.loc 1 202 9 is_stmt 1 view .LVU129
 535              		.loc 1 202 11 is_stmt 0 view .LVU130
 536 001a 2388     		ldrh	r3, [r4]
 203:../core/src/bsp_usart.c ****         {
 204:../core/src/bsp_usart.c ****             /* 读取接收到的数据并存储到缓冲区 */
 205:../core/src/bsp_usart.c ****             usart1_rx_buffer[rx_head] = (uint8_t)USART_Data_Receive(USART1);
 537              		.loc 1 205 50 view .LVU131
 538 001c 0948     		ldr	r0, .L49
 202:../core/src/bsp_usart.c ****         {
 539              		.loc 1 202 11 view .LVU132
 540 001e FF2B     		cmp	r3, #255
 541 0020 0CD8     		bhi	.L45
 542              		.loc 1 205 13 is_stmt 1 view .LVU133
 543              		.loc 1 205 50 is_stmt 0 view .LVU134
 544 0022 FFF7FEFF 		bl	USART_Data_Receive
 545              	.LVL34:
 546              		.loc 1 205 29 discriminator 1 view .LVU135
 547 0026 094A     		ldr	r2, .L49+8
 548              		.loc 1 205 39 discriminator 1 view .LVU136
 549 0028 0949     		ldr	r1, .L49+12
 550              		.loc 1 205 29 discriminator 1 view .LVU137
 551 002a 1388     		ldrh	r3, [r2]
 552              		.loc 1 205 41 discriminator 1 view .LVU138
 553 002c C854     		strb	r0, [r1, r3]
 206:../core/src/bsp_usart.c ****             rx_head = (rx_head + 1) % USART1_RX_BUFFER_SIZE;
 554              		.loc 1 206 13 is_stmt 1 view .LVU139
 555              		.loc 1 206 32 is_stmt 0 view .LVU140
 556 002e 0133     		adds	r3, r3, #1
 557              		.loc 1 206 37 view .LVU141
 558 0030 DBB2     		uxtb	r3, r3
 559              		.loc 1 206 21 view .LVU142
 560 0032 1380     		strh	r3, [r2]	@ movhi
 207:../core/src/bsp_usart.c ****             rx_count++;
 561              		.loc 1 207 13 is_stmt 1 view .LVU143
ARM GAS  C:\Users\Dawn\AppData\Local\Temp\ccxhx5T7.s 			page 15


 562              		.loc 1 207 21 is_stmt 0 view .LVU144
 563 0034 2388     		ldrh	r3, [r4]
 564 0036 0133     		adds	r3, r3, #1
 565 0038 2380     		strh	r3, [r4]	@ movhi
 566              	.L43:
 208:../core/src/bsp_usart.c ****         }
 209:../core/src/bsp_usart.c ****         else
 210:../core/src/bsp_usart.c ****         {
 211:../core/src/bsp_usart.c ****             /* 缓冲区已满，丢弃数据 */
 212:../core/src/bsp_usart.c ****             USART_Data_Receive(USART1);
 213:../core/src/bsp_usart.c ****         }
 214:../core/src/bsp_usart.c ****     }
 215:../core/src/bsp_usart.c **** }
 567              		.loc 1 215 1 view .LVU145
 568 003a 10BD     		pop	{r4, pc}
 569              	.L45:
 212:../core/src/bsp_usart.c ****         }
 570              		.loc 1 212 13 is_stmt 1 view .LVU146
 571              		.loc 1 215 1 is_stmt 0 view .LVU147
 572 003c BDE81040 		pop	{r4, lr}
 573              	.LCFI10:
 574              		.cfi_restore 14
 575              		.cfi_restore 4
 576              		.cfi_def_cfa_offset 0
 212:../core/src/bsp_usart.c ****         }
 577              		.loc 1 212 13 view .LVU148
 578 0040 FFF7FEBF 		b	USART_Data_Receive
 579              	.LVL35:
 580              	.L50:
 581              		.align	2
 582              	.L49:
 583 0044 00380140 		.word	1073821696
 584 0048 00000000 		.word	rx_count
 585 004c 00000000 		.word	rx_head
 586 0050 00000000 		.word	usart1_rx_buffer
 587              		.cfi_endproc
 588              	.LFE138:
 590              		.section	.bss.rx_count,"aw",%nobits
 591              		.align	1
 594              	rx_count:
 595 0000 0000     		.space	2
 596              		.section	.bss.rx_tail,"aw",%nobits
 597              		.align	1
 600              	rx_tail:
 601 0000 0000     		.space	2
 602              		.section	.bss.rx_head,"aw",%nobits
 603              		.align	1
 606              	rx_head:
 607 0000 0000     		.space	2
 608              		.section	.bss.usart1_rx_buffer,"aw",%nobits
 611              	usart1_rx_buffer:
 612 0000 00000000 		.space	256
 612      00000000 
 612      00000000 
 612      00000000 
 612      00000000 
 613              		.text
ARM GAS  C:\Users\Dawn\AppData\Local\Temp\ccxhx5T7.s 			page 16


 614              	.Letext0:
 615              		.file 2 "D:/Tool/arm-gnu-toolchain/arm-none-eabi/include/machine/_default_types.h"
 616              		.file 3 "D:/Tool/arm-gnu-toolchain/arm-none-eabi/include/sys/_stdint.h"
 617              		.file 4 "../firmware/CMSIS/device/n32g430.h"
 618              		.file 5 "../firmware/n32g430_std_periph_driver/inc/n32g430_gpio.h"
 619              		.file 6 "../firmware/n32g430_std_periph_driver/inc/n32g430_usart.h"
 620              		.file 7 "../firmware/n32g430_std_periph_driver/inc/misc.h"
 621              		.file 8 "../firmware/n32g430_std_periph_driver/inc/n32g430_rcc.h"
ARM GAS  C:\Users\Dawn\AppData\Local\Temp\ccxhx5T7.s 			page 17


DEFINED SYMBOLS
                            *ABS*:00000000 bsp_usart.c
C:\Users\Dawn\AppData\Local\Temp\ccxhx5T7.s:21     .text.USART1_Init:00000000 $t
C:\Users\Dawn\AppData\Local\Temp\ccxhx5T7.s:27     .text.USART1_Init:00000000 USART1_Init
C:\Users\Dawn\AppData\Local\Temp\ccxhx5T7.s:162    .text.USART1_Init:00000090 $d
C:\Users\Dawn\AppData\Local\Temp\ccxhx5T7.s:606    .bss.rx_head:00000000 rx_head
C:\Users\Dawn\AppData\Local\Temp\ccxhx5T7.s:600    .bss.rx_tail:00000000 rx_tail
C:\Users\Dawn\AppData\Local\Temp\ccxhx5T7.s:594    .bss.rx_count:00000000 rx_count
C:\Users\Dawn\AppData\Local\Temp\ccxhx5T7.s:172    .text.USART1_SendByte:00000000 $t
C:\Users\Dawn\AppData\Local\Temp\ccxhx5T7.s:178    .text.USART1_SendByte:00000000 USART1_SendByte
C:\Users\Dawn\AppData\Local\Temp\ccxhx5T7.s:221    .text.USART1_SendByte:0000001c $d
C:\Users\Dawn\AppData\Local\Temp\ccxhx5T7.s:226    .text.USART1_SendString:00000000 $t
C:\Users\Dawn\AppData\Local\Temp\ccxhx5T7.s:232    .text.USART1_SendString:00000000 USART1_SendString
C:\Users\Dawn\AppData\Local\Temp\ccxhx5T7.s:267    .text.USART1_SendArray:00000000 $t
C:\Users\Dawn\AppData\Local\Temp\ccxhx5T7.s:273    .text.USART1_SendArray:00000000 USART1_SendArray
C:\Users\Dawn\AppData\Local\Temp\ccxhx5T7.s:313    .text.USART1_ReceiveByte:00000000 $t
C:\Users\Dawn\AppData\Local\Temp\ccxhx5T7.s:319    .text.USART1_ReceiveByte:00000000 USART1_ReceiveByte
C:\Users\Dawn\AppData\Local\Temp\ccxhx5T7.s:351    .text.USART1_ReceiveByte:00000018 $d
C:\Users\Dawn\AppData\Local\Temp\ccxhx5T7.s:356    .text.USART1_ReceiveString:00000000 $t
C:\Users\Dawn\AppData\Local\Temp\ccxhx5T7.s:362    .text.USART1_ReceiveString:00000000 USART1_ReceiveString
C:\Users\Dawn\AppData\Local\Temp\ccxhx5T7.s:441    .text.USART1_ReceiveString:00000050 $d
C:\Users\Dawn\AppData\Local\Temp\ccxhx5T7.s:611    .bss.usart1_rx_buffer:00000000 usart1_rx_buffer
C:\Users\Dawn\AppData\Local\Temp\ccxhx5T7.s:448    .text.USART1_EnableInterrupt:00000000 $t
C:\Users\Dawn\AppData\Local\Temp\ccxhx5T7.s:454    .text.USART1_EnableInterrupt:00000000 USART1_EnableInterrupt
C:\Users\Dawn\AppData\Local\Temp\ccxhx5T7.s:469    .text.USART1_EnableInterrupt:0000000c $d
C:\Users\Dawn\AppData\Local\Temp\ccxhx5T7.s:474    .text.USART1_DisableInterrupt:00000000 $t
C:\Users\Dawn\AppData\Local\Temp\ccxhx5T7.s:480    .text.USART1_DisableInterrupt:00000000 USART1_DisableInterrupt
C:\Users\Dawn\AppData\Local\Temp\ccxhx5T7.s:495    .text.USART1_DisableInterrupt:0000000c $d
C:\Users\Dawn\AppData\Local\Temp\ccxhx5T7.s:500    .text.USART1_IRQHandler:00000000 $t
C:\Users\Dawn\AppData\Local\Temp\ccxhx5T7.s:506    .text.USART1_IRQHandler:00000000 USART1_IRQHandler
C:\Users\Dawn\AppData\Local\Temp\ccxhx5T7.s:583    .text.USART1_IRQHandler:00000044 $d
C:\Users\Dawn\AppData\Local\Temp\ccxhx5T7.s:591    .bss.rx_count:00000000 $d
C:\Users\Dawn\AppData\Local\Temp\ccxhx5T7.s:597    .bss.rx_tail:00000000 $d
C:\Users\Dawn\AppData\Local\Temp\ccxhx5T7.s:603    .bss.rx_head:00000000 $d
C:\Users\Dawn\AppData\Local\Temp\ccxhx5T7.s:612    .bss.usart1_rx_buffer:00000000 $d

UNDEFINED SYMBOLS
RCC_AHB_Peripheral_Clock_Enable
RCC_APB2_Peripheral_Clock_Enable
GPIO_Peripheral_Initialize
USART_Initializes
USART_Interrput_Enable
NVIC_Initializes
USART_Enable
USART_Flag_Status_Get
USART_Data_Send
USART_Data_Receive
USART_Interrput_Disable
USART_Interrupt_Status_Get
USART_Interrupt_Status_Clear
